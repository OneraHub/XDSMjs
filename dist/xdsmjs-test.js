/*! For license information please see xdsmjs-test.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.xdsmjs=e():t.xdsmjs=e()}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=64)}([function(t,e,r){"use strict";var n={UNKNOWN:"UNKNOWN",PENDING:"PENDING",RUNNING:"RUNNING",DONE:"DONE",FAILED:"FAILED"};function o(t,e,r,o,i){var a=e||t,s=r||"function",u=o||n.UNKNOWN;if(void 0===n[u])throw Error("Unknown status '".concat(u,"' for node ").concat(a,"(id=").concat(t,")"));this.id=t,this.name=a,this.isMulti=s.search(/_multi$/)>=0,this.type=this.isMulti?s.substr(0,s.length-"_multi".length):s,this.status=u,this.subxdsm=i}function i(t,e,r,n,o,i){var a=this;if(this.id="link_".concat(t,"_").concat(e),"string"==typeof r){this.name=r,this.vars={},this.name.split(",").forEach((function(t,e){a.vars[e]=t.trim()}))}else{this.vars=r;var s=[];for(var u in this.vars)Object.prototype.hasOwnProperty.call(this.vars,u)&&s.push(this.vars[u]);this.name=s.join(", ")}this.row=n,this.col=o,this.iotype=n<o?"in":"out",this.isMulti=i}function a(t,e){var r=this,n=void 0===e||e;this.nodes=[],n&&(this.nodes=[new o("_U_","User","driver")]),this.edges=[],this.chains=[];var i=a.number(t.workflow),s=i.toNum;this.nodesByStep=i.toNode,t.nodes.forEach((function(t){var e=s[t.id];r.nodes.push(new o(t.id,e?"".concat(e,":").concat(t.name):t.name,t.type,t.status,t.subxdsm))}),this),this.uid=this.nodes[0].id,t.edges&&t.edges.forEach((function(t){r.addEdge(t.from,t.to,t.vars?t.vars:t.name)}),this),t.workflow&&this._makeChaining(t.workflow)}function s(t){var e,r=[];return t.forEach((function(t){if(t instanceof Array){if(Object.prototype.hasOwnProperty.call(t[0],"parallel")){if(!e)throw new Error("Bad workflow structure : cannot parallel loop without previous starting point.");r=r.slice(0,r.length-1).concat(t[0].parallel.map((function(t){return[e].concat(s([t]),e)})))}else r=e?r.concat(s(t),e):r.concat(s(t));e=r[r.length-1]}else if(Object.prototype.hasOwnProperty.call(t,"parallel"))r=e?r.slice(0,r.length-1).concat(t.parallel.map((function(t){return[e].concat(s([t]))}))):r.concat(t.parallel.map((function(t){return s([t])}))),e=void 0;else{for(var n=r.length-1,o=!1;n>=0&&r[n]instanceof Array;)r[n]=r[n].concat(t),n-=1,o=!0;o||r.push(t),e=t}})),r}o.prototype.isComposite=function(){return"mdo"===this.type||"sub-optimization"===this.type||"group"===this.type||"implicit-group"===this.type},o.prototype.getSubXdsmId=function(){if(this.isComposite()){var t=this.name.indexOf("_scn-");if(-1!==t)return console.log("Use of <name>_scn-<id> pattern in node.name to detect sub scenario 'scn-<id>' is deprecated. Use node.subxdsm property instead (i.e. node.subxdsm = <id>)"),this.name.substr(t+1);if(this.subxdsm)return this.subxdsm;console.log("".concat("Warning: Sub XDSM id not found. Bad type or name for node: ").concat(JSON.stringify(this)))}return null},i.prototype.addVar=function(t){if("string"==typeof t)""===this.name?this.name=t:this.name+=", ".concat(t),this.vars[this.vars.length]=t;else for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){this.vars[e]=t[e];var r=[];for(var n in this.vars)Object.prototype.hasOwnProperty.call(this.vars,n)&&r.push(this.vars[n]);this.name=r.join(", ")}},i.prototype.removeVar=function(t){var e=!1;for(var r in this.vars)r===t&&(this.vars.delete(r),e=!0);if(!e){var n={};for(var o in this.vars)this.vars[o]===t?e=!0:n[o]=this.vars[o];this.vars=n}if(e){var i=[];for(var a in this.vars)Object.prototype.hasOwnProperty.call(this.vars,a)&&i.push(this.vars[a]);this.name=i.join(", ")}},a.NODE_STATUS=n,a.prototype._makeChaining=function(t){var e=this;a.expand(t).forEach((function(t){if(t.length<2)throw new Error("Bad process chain (".concat(t.length,"elt)"));e.chains.push([]);var r=e.nodes.map((function(t){return t.id}));t.forEach((function(n,o){if(0!==o){var i=r.indexOf(t[o-1]);if(i<0)throw new Error("Process chain element (".concat(t[o-1],") not found"));var a=r.indexOf(t[o]);if(a<0)throw new Error("Process chain element (".concat(t[o],") not found"));i!==a&&e.chains[e.chains.length-1].push([i,a])}}),e)}),this)},a.prototype.idxOf=function(t){var e=this.nodes.map((function(t){return t.id})).indexOf(t);if(e<0)throw new Error("Graph.idxOf: ".concat(t," not found in ").concat(JSON.stringify(this.nodes)));return e},a.prototype.getNode=function(t){var e;return this.nodes.forEach((function(r){r.id===t&&(e=r)}),this),e},a.prototype.getNodeFromIndex=function(t){if(!(t>=0&&t<this.nodes.length))throw new Error("Index out of range : ".concat(t," not in [0, ").concat(this.nodes.length-1,"]"));return this.nodes[t]},a.prototype.addNode=function(t){this.nodes.push(new o(t.id,t.name,t.kind))},a.prototype.removeNode=function(t){var e=this,r=this.findEdgesOf(t);r.toRemove.forEach((function(t){var r=e.edges.indexOf(t);r>-1&&e.edges.splice(r,1)}),this),r.toShift.forEach((function(t){t.row>1&&(t.row-=1),t.col>1&&(t.col-=1)}),this),this.nodes.splice(t,1)},a.prototype.moveLeft=function(t){if(t>1){var e=this.nodes[t-1];this.nodes[t-1]=this.nodes[t],this.nodes[t]=e}},a.prototype.moveRight=function(t){if(t<this.nodes.length-1){var e=this.nodes[t+1];this.nodes[t+1]=this.nodes[t],this.nodes[t]=e}},a.prototype.addEdge=function(t,e,r){var n=this.idxOf(t),o=this.idxOf(e),a=this.nodes[n].isMulti||this.nodes[o].isMulti;this.edges.push(new i(t,e,r,n,o,a))},a.prototype.removeEdge=function(t,e){var r=this.findEdge(t,e);this.edges.splice(r.index,1)},a.prototype.addEdgeVar=function(t,e,r){var n=this.findEdge(t,e).element;n?(console.log(r),n.addVar(r)):this.addEdge(t,e,r)},a.prototype.removeEdgeVar=function(t,e,r){var n=this.findEdge(t,e),o=n.element,i=n.index;o&&o.removeVar(r),""===o.name&&this.edges.splice(i,1)},a.prototype.findEdgesOf=function(t){var e=[],r=[];return this.edges.forEach((function(n){n.row===t||n.col===t?e.push(n):(n.row>t||n.col>t)&&r.push(n)}),this),{toRemove:e,toShift:r}},a.prototype.findEdge=function(t,e){var r,n=-1,o=this.idxOf(t),i=this.idxOf(e);return this.edges.some((function(t,e){if(t.row===o&&t.col===i){if(r)throw Error("edge have be uniq between two nodes, but got: ".concat(JSON.stringify(r)," and ").concat(JSON.stringify(t)));return r=t,n=e,!0}return!1}),this),{element:r,index:n}},a._isPatchNeeded=function(t){for(var e=t.map((function(t){return t[t.length-1]})),r=e[0],n=0;n<e.length;n+=1)if(e[n]!==r)return!0;return!1},a._patchParallel=function(t){var e=this,r=[];t.forEach((function(t){t instanceof Array?r.push(t):a._isPatchNeeded(r)&&r.forEach((function(e){e.push(t)}),e)}),this)},a.expand=function(t){var e=s(t),r=[],n=[];return a._patchParallel(e),e.forEach((function(t){if(t instanceof Array)n.length>0&&(n.push(t[0]),r.push(n),n=[]),r.push(t);else{if(r.length>0&&0===n.length){var e=r[r.length-1],o=e[e.length-1];n.push(o)}n.push(t)}}),this),n.length>0&&r.push(n),r},a.number=function(t,e){var r=void 0===e?0:e,n={},o=[];function i(t,e){t in o?o[t].push(e):o[t]=[e]}function a(t,e,o){void 0===o?(r=String(e),i(e,t)):(r="".concat(o,"-").concat(e),i(o,t)),t in n?n[t]+=",".concat(r):n[t]=r}return function t(e,r){var n=0;if(e instanceof Array)if(0===e.length)n=r;else if(1===e.length)n=t(e[0],r);else{var o=e[0],i=e.slice(1),s=t(o,r);if(i[0]instanceof Array){var u=t(i[0],s);a(o,s,u),s=u+1,i.shift()}n=t(i,s)}else if(e instanceof Object&&"parallel"in e){var c=e.parallel.map((function(e){return t(e,r)}));n=Math.max.apply(null,c)}else a(e,r),n=r+1;return n}(t,r),{toNum:n,toNode:o}},e.a=a},,function(t,e,r){"use strict";function n(){}n.strParse=function(t,e){if(""===t)return[{base:"",sub:void 0,sup:void 0}];var r=t.split(",");if(!1===e)return r.map((function(t){return{base:t,sub:void 0,sup:void 0}}));var n=/_/g,o=/([0-9-]+:)?([&#;A-Za-z0-9-.]+)(_[&#;A-Za-z0-9-._]+)?(\^.+)?/;return r.map((function(t){var e,r,i;if((t.match(n)||[]).length>1){var a=t.match(/(.+)\^(.+)/);return a?{base:a[1],sub:void 0,sup:a[2]}:{base:t,sub:void 0,sup:void 0}}var s=t.match(o);if(!s)throw new Error("Labelizer.strParse: Can not parse '".concat(t,"'"));return e=(s[1]?s[1]:"")+s[2],s[3]&&(r=s[3].substring(1)),s[4]&&(i=s[4].substring(1)),{base:e,sub:r,sup:i}}),this)},n._createVarListLabel=function(t,e,r,o,i,a){n.strParse(e,i).every((function(e,n,i){var s=0,u=0;return o<1||n<5&&r.nodes()[0].getBBox().width<100?(r.append("tspan").html((function(){return a?"<a class='subxdsm-link' href=\"#".concat(a,'">').concat(e.base,"</a>"):e.base})),e.sub&&(s=10,r.append("tspan").attr("class","sub").attr("dy",s).html(e.sub)),e.sup&&(u=-10,r.append("tspan").attr("class","sup").attr("dx",-5).attr("dy",-s+u).html(e.sup),s=0),n<i.length-1&&r.append("tspan").attr("dy",-s-u).html(", "),!0):(r.append("tspan").attr("dy",-s-u).html("..."),t.classed("ellipsized",!0),!1)}),this)},n._createLinkNbLabel=function(t,e,r){var n=e.split(","),o="".concat(n.length," var");n.length>1&&(o+="s"),r.append("tspan").html(o),t.classed("ellipsized",!0)},n.labelize=function(){var t=0,e=!0,r=!1,o="node",i=!1;function a(a){a.each((function(s){var u=a.append("text");r&&"node"!==o?n._createLinkNbLabel(a,s.name,u):n._createVarListLabel(a,s.name,u,t,e,i)}))}return a.ellipsis=function(e){return arguments.length?(t=e,a):t},a.subSupScript=function(t){return arguments.length?(e=t,a):e},a.linkNbOnly=function(t){return arguments.length?(r=t,a):r},a.labelKind=function(t){return arguments.length?(o=t,a):o},a.subXdsmLink=function(t){return arguments.length?(i=t,a):i},a},n.tooltipize=function(){var t="",e=!1;function r(r){var o=[];e?n.strParse(t).forEach((function(t){var e=t.base;t.sub&&(e+="<sub>".concat(t.sub,"</sub>")),t.sup&&(e+="<sup>".concat(t.sup,"</sup>")),o.push(e)})):o=t.split(",");r.html(o.join(", "))}return r.text=function(e){return arguments.length?(t=e,r):t},r.subSupScript=function(t){return arguments.length?(e=t,r):e},r},e.a=n},function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=s(p);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new h(t,e)),1!==c.length||l||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,r){"use strict";var n=r(85);t.exports=Function.prototype.bind||n},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";var n=r(28),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,u=s&&function(){var t={};try{for(var e in s(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),c=function(t,e,r,n){var o;(!(e in t)||"function"==typeof(o=n)&&"[object Function]"===i.call(o)&&n())&&(u?s(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r)},l=function(t,e){var r=arguments.length>2?arguments[2]:{},i=n(e);o&&(i=a.call(i,Object.getOwnPropertySymbols(e)));for(var s=0;s<i.length;s+=1)c(t,i[s],e[i[s]],r[i[s]])};l.supportsDescriptors=!!u,t.exports=l},function(t,e,r){"use strict";(function(e){var n=e.Symbol,o=r(30);t.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&o())))}}).call(this,r(5))},function(t,e,r){"use strict";function n(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function o(){}var i=function(t){return null==t?o:function(){return this.querySelector(t)}},a=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)};function s(){return[]}var u=function(t){return null==t?s:function(){return this.querySelectorAll(t)}};var c=function(t){return function(){return this.matches(t)}};function l(t){return function(e){return e.matches(t)}}var f=Array.prototype.find;function p(){return this.firstElementChild}var d=Array.prototype.filter;function h(){return this.children}var y=function(t){return new Array(t.length)};function g(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}g.prototype={constructor:g,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var v=function(t){return function(){return t}};function m(t,e,r,n,o,i){for(var a,s=0,u=e.length,c=i.length;s<c;++s)(a=e[s])?(a.__data__=i[s],n[s]=a):r[s]=new g(t,i[s]);for(;s<u;++s)(a=e[s])&&(o[s]=a)}function b(t,e,r,n,o,i,a){var s,u,c,l=new Map,f=e.length,p=i.length,d=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(d[s]=c=a.call(u,u.__data__,s,e)+"",l.has(c)?o[s]=u:l.set(c,u));for(s=0;s<p;++s)c=a.call(t,i[s],s,i)+"",(u=l.get(c))?(n[s]=u,u.__data__=i[s],l.delete(c)):r[s]=new g(t,i[s]);for(s=0;s<f;++s)(u=e[s])&&l.get(d[s])===u&&(o[s]=u)}function w(t){return t.__data__}function _(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var A="http://www.w3.org/1999/xhtml",S={svg:"http://www.w3.org/2000/svg",xhtml:A,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},E=function(t){var e=t+="",r=e.indexOf(":");return r>=0&&"xmlns"!==(e=t.slice(0,r))&&(t=t.slice(r+1)),S.hasOwnProperty(e)?{space:S[e],local:t}:t};function x(t){return function(){this.removeAttribute(t)}}function P(t){return function(){this.removeAttributeNS(t.space,t.local)}}function O(t,e){return function(){this.setAttribute(t,e)}}function k(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function j(t,e){return function(){var r=e.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}}function T(t,e){return function(){var r=e.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}var N=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function R(t){return function(){this.style.removeProperty(t)}}function I(t,e,r){return function(){this.style.setProperty(t,e,r)}}function M(t,e,r){return function(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function U(t,e){return t.style.getPropertyValue(e)||N(t).getComputedStyle(t,null).getPropertyValue(e)}function B(t){return function(){delete this[t]}}function D(t,e){return function(){this[t]=e}}function F(t,e){return function(){var r=e.apply(this,arguments);null==r?delete this[t]:this[t]=r}}function C(t){return t.trim().split(/^|\s+/)}function q(t){return t.classList||new L(t)}function L(t){this._node=t,this._names=C(t.getAttribute("class")||"")}function W(t,e){for(var r=q(t),n=-1,o=e.length;++n<o;)r.add(e[n])}function G(t,e){for(var r=q(t),n=-1,o=e.length;++n<o;)r.remove(e[n])}function z(t){return function(){W(this,t)}}function Y(t){return function(){G(this,t)}}function V(t,e){return function(){(e.apply(this,arguments)?W:G)(this,t)}}L.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function $(){this.textContent=""}function X(t){return function(){this.textContent=t}}function J(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function H(){this.innerHTML=""}function K(t){return function(){this.innerHTML=t}}function Z(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Q(){this.nextSibling&&this.parentNode.appendChild(this)}function tt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function et(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===A&&e.documentElement.namespaceURI===A?e.createElement(t):e.createElementNS(r,t)}}function rt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var nt=function(t){var e=E(t);return(e.local?rt:et)(e)};function ot(){return null}function it(){var t=this.parentNode;t&&t.removeChild(this)}function at(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function st(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ut(t){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");return r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),{type:t,name:e}}))}function ct(t){return function(){var e=this.__on;if(e){for(var r,n=0,o=-1,i=e.length;n<i;++n)r=e[n],t.type&&r.type!==t.type||r.name!==t.name?e[++o]=r:this.removeEventListener(r.type,r.listener,r.options);++o?e.length=o:delete this.__on}}}function lt(t,e,r){return function(){var n,o=this.__on,i=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(o)for(var a=0,s=o.length;a<s;++a)if((n=o[a]).type===t.type&&n.name===t.name)return this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=i,n.options=r),void(n.value=e);this.addEventListener(t.type,i,r),n={type:t.type,name:t.name,value:e,listener:i,options:r},o?o.push(n):this.__on=[n]}}function ft(t,e,r){var n=N(t),o=n.CustomEvent;"function"==typeof o?o=new o(e,r):(o=n.document.createEvent("Event"),r?(o.initEvent(e,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function pt(t,e){return function(){return ft(this,t,e)}}function dt(t,e){return function(){return ft(this,t,e.apply(this,arguments))}}var ht=[null];function yt(t,e){this._groups=t,this._parents=e}function gt(){return new yt([[document.documentElement]],ht)}yt.prototype=gt.prototype={constructor:yt,select:function(t){"function"!=typeof t&&(t=i(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var a,s,u=e[o],c=u.length,l=n[o]=new Array(c),f=0;f<c;++f)(a=u[f])&&(s=t.call(a,a.__data__,f,u))&&("__data__"in a&&(s.__data__=a.__data__),l[f]=s);return new yt(n,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:a(e)}}(t):u(t);for(var e=this._groups,r=e.length,n=[],o=[],i=0;i<r;++i)for(var s,c=e[i],l=c.length,f=0;f<l;++f)(s=c[f])&&(n.push(t.call(s,s.__data__,f,c)),o.push(s));return new yt(n,o)},selectChild:function(t){return this.select(null==t?p:function(t){return function(){return f.call(this.children,t)}}("function"==typeof t?t:l(t)))},selectChildren:function(t){return this.selectAll(null==t?h:function(t){return function(){return d.call(this.children,t)}}("function"==typeof t?t:l(t)))},filter:function(t){"function"!=typeof t&&(t=c(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i,a=e[o],s=a.length,u=n[o]=[],l=0;l<s;++l)(i=a[l])&&t.call(i,i.__data__,l,a)&&u.push(i);return new yt(n,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,w);var r=e?b:m,n=this._parents,o=this._groups;"function"!=typeof t&&(t=v(t));for(var i=o.length,s=new Array(i),u=new Array(i),c=new Array(i),l=0;l<i;++l){var f=n[l],p=o[l],d=p.length,h=a(t.call(f,f&&f.__data__,l,n)),y=h.length,g=u[l]=new Array(y),_=s[l]=new Array(y),A=c[l]=new Array(d);r(f,p,g,_,A,h,e);for(var S,E,x=0,P=0;x<y;++x)if(S=g[x]){for(x>=P&&(P=x+1);!(E=_[P])&&++P<y;);S._next=E||null}}return(s=new yt(s,n))._enter=u,s._exit=c,s},enter:function(){return new yt(this._enter||this._groups.map(y),this._parents)},exit:function(){return new yt(this._exit||this._groups.map(y),this._parents)},join:function(t,e,r){var n=this.enter(),o=this,i=this.exit();return n="function"==typeof t?t(n):n.append(t+""),null!=e&&(o=e(o)),null==r?i.remove():r(i),n&&o?n.merge(o).order():o},merge:function(t){if(!(t instanceof yt))throw new Error("invalid merge");for(var e=this._groups,r=t._groups,n=e.length,o=r.length,i=Math.min(n,o),a=new Array(n),s=0;s<i;++s)for(var u,c=e[s],l=r[s],f=c.length,p=a[s]=new Array(f),d=0;d<f;++d)(u=c[d]||l[d])&&(p[d]=u);for(;s<n;++s)a[s]=e[s];return new yt(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n,o=t[e],i=o.length-1,a=o[i];--i>=0;)(n=o[i])&&(a&&4^n.compareDocumentPosition(a)&&a.parentNode.insertBefore(n,a),a=n);return this},sort:function(t){function e(e,r){return e&&r?t(e.__data__,r.__data__):!e-!r}t||(t=_);for(var r=this._groups,n=r.length,o=new Array(n),i=0;i<n;++i){for(var a,s=r[i],u=s.length,c=o[i]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new yt(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],o=0,i=n.length;o<i;++o){var a=n[o];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var o,i=e[r],a=0,s=i.length;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var r=E(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((null==e?r.local?P:x:"function"==typeof e?r.local?T:j:r.local?k:O)(r,e))},style:function(t,e,r){return arguments.length>1?this.each((null==e?R:"function"==typeof e?M:I)(t,e,null==r?"":r)):U(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?B:"function"==typeof e?F:D)(t,e)):this.node()[t]},classed:function(t,e){var r=C(t+"");if(arguments.length<2){for(var n=q(this.node()),o=-1,i=r.length;++o<i;)if(!n.contains(r[o]))return!1;return!0}return this.each(("function"==typeof e?V:e?z:Y)(r,e))},text:function(t){return arguments.length?this.each(null==t?$:("function"==typeof t?J:X)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?H:("function"==typeof t?Z:K)(t)):this.node().innerHTML},raise:function(){return this.each(Q)},lower:function(){return this.each(tt)},append:function(t){var e="function"==typeof t?t:nt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var r="function"==typeof t?t:nt(t),n=null==e?ot:"function"==typeof e?e:i(e);return this.select((function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)}))},remove:function(){return this.each(it)},clone:function(t){return this.select(t?st:at)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,r){var n,o,i=ut(t+""),a=i.length;if(!(arguments.length<2)){for(s=e?lt:ct,n=0;n<a;++n)this.each(s(i[n],e,r));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(n=0,u=s[c];n<a;++n)if((o=i[n]).type===u.type&&o.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?dt:pt)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n,o=t[e],i=0,a=o.length;i<a;++i)(n=o[i])&&(yield n)}};var vt=gt,mt=function(t){return"string"==typeof t?new yt([[document.querySelector(t)]],[document.documentElement]):new yt([[t]],ht)},bt=r(0),wt=function(t){return"string"==typeof t?new yt([document.querySelectorAll(t)],[document.documentElement]):new yt([null==t?[]:a(t)],ht)},_t={value:()=>{}};function At(){for(var t,e=0,r=arguments.length,n={};e<r;++e){if(!(t=arguments[e]+"")||t in n||/[\s.]/.test(t))throw new Error("illegal type: "+t);n[t]=[]}return new St(n)}function St(t){this._=t}function Et(t,e){return t.trim().split(/^|\s+/).map((function(t){var r="",n=t.indexOf(".");if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}}))}function xt(t,e){for(var r,n=0,o=t.length;n<o;++n)if((r=t[n]).name===e)return r.value}function Pt(t,e,r){for(var n=0,o=t.length;n<o;++n)if(t[n].name===e){t[n]=_t,t=t.slice(0,n).concat(t.slice(n+1));break}return null!=r&&t.push({name:e,value:r}),t}St.prototype=At.prototype={constructor:St,on:function(t,e){var r,n=this._,o=Et(t+"",n),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<a;)if(r=(t=o[i]).type)n[r]=Pt(n[r],t.name,e);else if(null==e)for(r in n)n[r]=Pt(n[r],t.name,null);return this}for(;++i<a;)if((r=(t=o[i]).type)&&(r=xt(n[r],t.name)))return r},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new St(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var r,n,o=new Array(r),i=0;i<r;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,r=(n=this._[t]).length;i<r;++i)n[i].value.apply(e,o)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],o=0,i=n.length;o<i;++o)n[o].value.apply(e,r)}};var Ot,kt,jt=At,Tt=0,Nt=0,Rt=0,It=0,Mt=0,Ut=0,Bt="object"==typeof performance&&performance.now?performance:Date,Dt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ft(){return Mt||(Dt(Ct),Mt=Bt.now()+Ut)}function Ct(){Mt=0}function qt(){this._call=this._time=this._next=null}function Lt(t,e,r){var n=new qt;return n.restart(t,e,r),n}function Wt(){Mt=(It=Bt.now())+Ut,Tt=Nt=0;try{!function(){Ft(),++Tt;for(var t,e=Ot;e;)(t=Mt-e._time)>=0&&e._call.call(null,t),e=e._next;--Tt}()}finally{Tt=0,function(){var t,e,r=Ot,n=1/0;for(;r;)r._call?(n>r._time&&(n=r._time),t=r,r=r._next):(e=r._next,r._next=null,r=t?t._next=e:Ot=e);kt=t,zt(n)}(),Mt=0}}function Gt(){var t=Bt.now(),e=t-It;e>1e3&&(Ut-=e,It=t)}function zt(t){Tt||(Nt&&(Nt=clearTimeout(Nt)),t-Mt>24?(t<1/0&&(Nt=setTimeout(Wt,t-Bt.now()-Ut)),Rt&&(Rt=clearInterval(Rt))):(Rt||(It=Bt.now(),Rt=setInterval(Gt,1e3)),Tt=1,Dt(Wt)))}qt.prototype=Lt.prototype={constructor:qt,restart:function(t,e,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?Ft():+r)+(null==e?0:+e),this._next||kt===this||(kt?kt._next=this:Ot=this,kt=this),this._call=t,this._time=r,zt()},stop:function(){this._call&&(this._call=null,this._time=1/0,zt())}};var Yt=function(t,e,r){var n=new qt;return e=null==e?0:+e,n.restart(r=>{n.stop(),t(r+e)},e,r),n},Vt=jt("start","end","cancel","interrupt"),$t=[],Xt=function(t,e,r,n,o,i){var a=t.__transition;if(a){if(r in a)return}else t.__transition={};!function(t,e,r){var n,o=t.__transition;function i(t){r.state=1,r.timer.restart(a,r.delay,r.time),r.delay<=t&&a(t-r.delay)}function a(i){var c,l,f,p;if(1!==r.state)return u();for(c in o)if((p=o[c]).name===r.name){if(3===p.state)return Yt(a);4===p.state?(p.state=6,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete o[c]):+c<e&&(p.state=6,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete o[c])}if(Yt((function(){3===r.state&&(r.state=4,r.timer.restart(s,r.delay,r.time),s(i))})),r.state=2,r.on.call("start",t,t.__data__,r.index,r.group),2===r.state){for(r.state=3,n=new Array(f=r.tween.length),c=0,l=-1;c<f;++c)(p=r.tween[c].value.call(t,t.__data__,r.index,r.group))&&(n[++l]=p);n.length=l+1}}function s(e){for(var o=e<r.duration?r.ease.call(null,e/r.duration):(r.timer.restart(u),r.state=5,1),i=-1,a=n.length;++i<a;)n[i].call(t,o);5===r.state&&(r.on.call("end",t,t.__data__,r.index,r.group),u())}function u(){for(var n in r.state=6,r.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=r,r.timer=Lt(i,0,r.time)}(t,r,{name:e,index:n,group:o,on:Vt,tween:$t,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})};function Jt(t,e){var r=Kt(t,e);if(r.state>0)throw new Error("too late; already scheduled");return r}function Ht(t,e){var r=Kt(t,e);if(r.state>3)throw new Error("too late; already running");return r}function Kt(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}var Zt,Qt=function(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}},te=180/Math.PI,ee={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},re=function(t,e,r,n,o,i){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*r+e*n)&&(r-=t*u,n-=e*u),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,u/=s),t*n<e*r&&(t=-t,e=-e,u=-u,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*te,skewX:Math.atan(u)*te,scaleX:a,scaleY:s}};function ne(t,e,r,n){function o(t){return t.length?t.pop()+" ":""}return function(i,a){var s=[],u=[];return i=t(i),a=t(a),function(t,n,o,i,a,s){if(t!==o||n!==i){var u=a.push("translate(",null,e,null,r);s.push({i:u-4,x:Qt(t,o)},{i:u-2,x:Qt(n,i)})}else(o||i)&&a.push("translate("+o+e+i+r)}(i.translateX,i.translateY,a.translateX,a.translateY,s,u),function(t,e,r,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:r.push(o(r)+"rotate(",null,n)-2,x:Qt(t,e)})):e&&r.push(o(r)+"rotate("+e+n)}(i.rotate,a.rotate,s,u),function(t,e,r,i){t!==e?i.push({i:r.push(o(r)+"skewX(",null,n)-2,x:Qt(t,e)}):e&&r.push(o(r)+"skewX("+e+n)}(i.skewX,a.skewX,s,u),function(t,e,r,n,i,a){if(t!==r||e!==n){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:Qt(t,r)},{i:s-2,x:Qt(e,n)})}else 1===r&&1===n||i.push(o(i)+"scale("+r+","+n+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,u),i=a=null,function(t){for(var e,r=-1,n=u.length;++r<n;)s[(e=u[r]).i]=e.x(t);return s.join("")}}}var oe=ne((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ee:re(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),ie=ne((function(t){return null==t?ee:(Zt||(Zt=document.createElementNS("http://www.w3.org/2000/svg","g")),Zt.setAttribute("transform",t),(t=Zt.transform.baseVal.consolidate())?(t=t.matrix,re(t.a,t.b,t.c,t.d,t.e,t.f)):ee)}),", ",")",")");function ae(t,e){var r,n;return function(){var o=Ht(this,t),i=o.tween;if(i!==r)for(var a=0,s=(n=r=i).length;a<s;++a)if(n[a].name===e){(n=n.slice()).splice(a,1);break}o.tween=n}}function se(t,e,r){var n,o;if("function"!=typeof r)throw new Error;return function(){var i=Ht(this,t),a=i.tween;if(a!==n){o=(n=a).slice();for(var s={name:e,value:r},u=0,c=o.length;u<c;++u)if(o[u].name===e){o[u]=s;break}u===c&&o.push(s)}i.tween=o}}function ue(t,e,r){var n=t._id;return t.each((function(){var t=Ht(this,n);(t.value||(t.value={}))[e]=r.apply(this,arguments)})),function(t){return Kt(t,n).value[e]}}var ce=function(t,e,r){t.prototype=e.prototype=r,r.constructor=t};function le(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function fe(){}var pe=.7,de=1/pe,he="\\s*([+-]?\\d+)\\s*",ye="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ge="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ve=/^#([0-9a-f]{3,8})$/,me=new RegExp("^rgb\\("+[he,he,he]+"\\)$"),be=new RegExp("^rgb\\("+[ge,ge,ge]+"\\)$"),we=new RegExp("^rgba\\("+[he,he,he,ye]+"\\)$"),_e=new RegExp("^rgba\\("+[ge,ge,ge,ye]+"\\)$"),Ae=new RegExp("^hsl\\("+[ye,ge,ge]+"\\)$"),Se=new RegExp("^hsla\\("+[ye,ge,ge,ye]+"\\)$"),Ee={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xe(){return this.rgb().formatHex()}function Pe(){return this.rgb().formatRgb()}function Oe(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=ve.exec(t))?(r=e[1].length,e=parseInt(e[1],16),6===r?ke(e):3===r?new Re(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===r?je(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===r?je(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=me.exec(t))?new Re(e[1],e[2],e[3],1):(e=be.exec(t))?new Re(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=we.exec(t))?je(e[1],e[2],e[3],e[4]):(e=_e.exec(t))?je(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ae.exec(t))?Be(e[1],e[2]/100,e[3]/100,1):(e=Se.exec(t))?Be(e[1],e[2]/100,e[3]/100,e[4]):Ee.hasOwnProperty(t)?ke(Ee[t]):"transparent"===t?new Re(NaN,NaN,NaN,0):null}function ke(t){return new Re(t>>16&255,t>>8&255,255&t,1)}function je(t,e,r,n){return n<=0&&(t=e=r=NaN),new Re(t,e,r,n)}function Te(t){return t instanceof fe||(t=Oe(t)),t?new Re((t=t.rgb()).r,t.g,t.b,t.opacity):new Re}function Ne(t,e,r,n){return 1===arguments.length?Te(t):new Re(t,e,r,null==n?1:n)}function Re(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}function Ie(){return"#"+Ue(this.r)+Ue(this.g)+Ue(this.b)}function Me(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ue(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Be(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Fe(t,e,r,n)}function De(t){if(t instanceof Fe)return new Fe(t.h,t.s,t.l,t.opacity);if(t instanceof fe||(t=Oe(t)),!t)return new Fe;if(t instanceof Fe)return t;var e=(t=t.rgb()).r/255,r=t.g/255,n=t.b/255,o=Math.min(e,r,n),i=Math.max(e,r,n),a=NaN,s=i-o,u=(i+o)/2;return s?(a=e===i?(r-n)/s+6*(r<n):r===i?(n-e)/s+2:(e-r)/s+4,s/=u<.5?i+o:2-i-o,a*=60):s=u>0&&u<1?0:a,new Fe(a,s,u,t.opacity)}function Fe(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}function Ce(t,e,r){return 255*(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)}function qe(t,e,r,n,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*r+(1+3*t+3*i-3*a)*n+a*o)/6}ce(fe,Oe,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:xe,formatHex:xe,formatHsl:function(){return De(this).formatHsl()},formatRgb:Pe,toString:Pe}),ce(Re,Ne,le(fe,{brighter:function(t){return t=null==t?de:Math.pow(de,t),new Re(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?pe:Math.pow(pe,t),new Re(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ie,formatHex:Ie,formatRgb:Me,toString:Me})),ce(Fe,(function(t,e,r,n){return 1===arguments.length?De(t):new Fe(t,e,r,null==n?1:n)}),le(fe,{brighter:function(t){return t=null==t?de:Math.pow(de,t),new Fe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?pe:Math.pow(pe,t),new Fe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,o=2*r-n;return new Re(Ce(t>=240?t-240:t+120,o,n),Ce(t,o,n),Ce(t<120?t+240:t-120,o,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Le=t=>()=>t;function We(t,e){return function(r){return t+r*e}}function Ge(t){return 1==(t=+t)?ze:function(e,r){return r-e?function(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}(e,r,t):Le(isNaN(e)?r:e)}}function ze(t,e){var r=e-t;return r?We(t,r):Le(isNaN(t)?e:t)}var Ye=function t(e){var r=Ge(e);function n(t,e){var n=r((t=Ne(t)).r,(e=Ne(e)).r),o=r(t.g,e.g),i=r(t.b,e.b),a=ze(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return n.gamma=t,n}(1);function Ve(t){return function(e){var r,n,o=e.length,i=new Array(o),a=new Array(o),s=new Array(o);for(r=0;r<o;++r)n=Ne(e[r]),i[r]=n.r||0,a[r]=n.g||0,s[r]=n.b||0;return i=t(i),a=t(a),s=t(s),n.opacity=1,function(t){return n.r=i(t),n.g=a(t),n.b=s(t),n+""}}}Ve((function(t){var e=t.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),o=t[n],i=t[n+1],a=n>0?t[n-1]:2*o-i,s=n<e-1?t[n+2]:2*i-o;return qe((r-n/e)*e,a,o,i,s)}})),Ve((function(t){var e=t.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*e),o=t[(n+e-1)%e],i=t[n%e],a=t[(n+1)%e],s=t[(n+2)%e];return qe((r-n/e)*e,o,i,a,s)}}));var $e=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xe=new RegExp($e.source,"g");var Je=function(t,e){var r,n,o,i=$e.lastIndex=Xe.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(r=$e.exec(t))&&(n=Xe.exec(e));)(o=n.index)>i&&(o=e.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,u.push({i:a,x:Qt(r,n)})),i=Xe.lastIndex;return i<e.length&&(o=e.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var r,n=0;n<e;++n)s[(r=u[n]).i]=r.x(t);return s.join("")})},He=function(t,e){var r;return("number"==typeof e?Qt:e instanceof Oe?Ye:(r=Oe(e))?(e=r,Ye):Je)(t,e)};function Ke(t){return function(){this.removeAttribute(t)}}function Ze(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qe(t,e,r){var n,o,i=r+"";return function(){var a=this.getAttribute(t);return a===i?null:a===n?o:o=e(n=a,r)}}function tr(t,e,r){var n,o,i=r+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===n?o:o=e(n=a,r)}}function er(t,e,r){var n,o,i;return function(){var a,s,u=r(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===n&&s===o?i:(o=s,i=e(n=a,u));this.removeAttribute(t)}}function rr(t,e,r){var n,o,i;return function(){var a,s,u=r(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===n&&s===o?i:(o=s,i=e(n=a,u));this.removeAttributeNS(t.space,t.local)}}function nr(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function or(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function ir(t,e){var r,n;function o(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&or(t,o)),r}return o._value=e,o}function ar(t,e){var r,n;function o(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&nr(t,o)),r}return o._value=e,o}function sr(t,e){return function(){Jt(this,t).delay=+e.apply(this,arguments)}}function ur(t,e){return e=+e,function(){Jt(this,t).delay=e}}function cr(t,e){return function(){Ht(this,t).duration=+e.apply(this,arguments)}}function lr(t,e){return e=+e,function(){Ht(this,t).duration=e}}function fr(t,e){if("function"!=typeof e)throw new Error;return function(){Ht(this,t).ease=e}}function pr(t,e,r){var n,o,i=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Jt:Ht;return function(){var a=i(this,t),s=a.on;s!==n&&(o=(n=s).copy()).on(e,r),a.on=o}}var dr=vt.prototype.constructor;function hr(t){return function(){this.style.removeProperty(t)}}function yr(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function gr(t,e,r){var n,o;function i(){var i=e.apply(this,arguments);return i!==o&&(n=(o=i)&&yr(t,i,r)),n}return i._value=e,i}function vr(t){return function(e){this.textContent=t.call(this,e)}}function mr(t){var e,r;function n(){var n=t.apply(this,arguments);return n!==r&&(e=(r=n)&&vr(n)),e}return n._value=t,n}var br=0;function wr(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function _r(){return++br}var Ar=vt.prototype;wr.prototype=function(t){return vt().transition(t)}.prototype={constructor:wr,select:function(t){var e=this._name,r=this._id;"function"!=typeof t&&(t=i(t));for(var n=this._groups,o=n.length,a=new Array(o),s=0;s<o;++s)for(var u,c,l=n[s],f=l.length,p=a[s]=new Array(f),d=0;d<f;++d)(u=l[d])&&(c=t.call(u,u.__data__,d,l))&&("__data__"in u&&(c.__data__=u.__data__),p[d]=c,Xt(p[d],e,r,d,p,Kt(u,r)));return new wr(a,this._parents,e,r)},selectAll:function(t){var e=this._name,r=this._id;"function"!=typeof t&&(t=u(t));for(var n=this._groups,o=n.length,i=[],a=[],s=0;s<o;++s)for(var c,l=n[s],f=l.length,p=0;p<f;++p)if(c=l[p]){for(var d,h=t.call(c,c.__data__,p,l),y=Kt(c,r),g=0,v=h.length;g<v;++g)(d=h[g])&&Xt(d,e,r,g,h,y);i.push(h),a.push(c)}return new wr(i,a,e,r)},filter:function(t){"function"!=typeof t&&(t=c(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i,a=e[o],s=a.length,u=n[o]=[],l=0;l<s;++l)(i=a[l])&&t.call(i,i.__data__,l,a)&&u.push(i);return new wr(n,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,o=r.length,i=Math.min(n,o),a=new Array(n),s=0;s<i;++s)for(var u,c=e[s],l=r[s],f=c.length,p=a[s]=new Array(f),d=0;d<f;++d)(u=c[d]||l[d])&&(p[d]=u);for(;s<n;++s)a[s]=e[s];return new wr(a,this._parents,this._name,this._id)},selection:function(){return new dr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,r=_r(),n=this._groups,o=n.length,i=0;i<o;++i)for(var a,s=n[i],u=s.length,c=0;c<u;++c)if(a=s[c]){var l=Kt(a,e);Xt(a,t,r,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new wr(n,this._parents,t,r)},call:Ar.call,nodes:Ar.nodes,node:Ar.node,size:Ar.size,empty:Ar.empty,each:Ar.each,on:function(t,e){var r=this._id;return arguments.length<2?Kt(this.node(),r).on.on(t):this.each(pr(r,t,e))},attr:function(t,e){var r=E(t),n="transform"===r?ie:He;return this.attrTween(t,"function"==typeof e?(r.local?rr:er)(r,n,ue(this,"attr."+t,e)):null==e?(r.local?Ze:Ke)(r):(r.local?tr:Qe)(r,n,e))},attrTween:function(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;var n=E(t);return this.tween(r,(n.local?ir:ar)(n,e))},style:function(t,e,r){var n="transform"==(t+="")?oe:He;return null==e?this.styleTween(t,function(t,e){var r,n,o;return function(){var i=U(this,t),a=(this.style.removeProperty(t),U(this,t));return i===a?null:i===r&&a===n?o:o=e(r=i,n=a)}}(t,n)).on("end.style."+t,hr(t)):"function"==typeof e?this.styleTween(t,function(t,e,r){var n,o,i;return function(){var a=U(this,t),s=r(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=U(this,t)),a===u?null:a===n&&u===o?i:(o=u,i=e(n=a,s))}}(t,n,ue(this,"style."+t,e))).each(function(t,e){var r,n,o,i,a="style."+e,s="end."+a;return function(){var u=Ht(this,t),c=u.on,l=null==u.value[a]?i||(i=hr(e)):void 0;c===r&&o===l||(n=(r=c).copy()).on(s,o=l),u.on=n}}(this._id,t)):this.styleTween(t,function(t,e,r){var n,o,i=r+"";return function(){var a=U(this,t);return a===i?null:a===n?o:o=e(n=a,r)}}(t,n,e),r).on("end.style."+t,null)},styleTween:function(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;return this.tween(n,gr(t,e,null==r?"":r))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(ue(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,mr(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n,o=Kt(this.node(),r).tween,i=0,a=o.length;i<a;++i)if((n=o[i]).name===t)return n.value;return null}return this.each((null==e?ae:se)(r,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?sr:ur)(e,t)):Kt(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?cr:lr)(e,t)):Kt(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(fr(e,t)):Kt(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var r=e.apply(this,arguments);if("function"!=typeof r)throw new Error;Ht(this,t).ease=r}}(this._id,t))},end:function(){var t,e,r=this,n=r._id,o=r.size();return new Promise((function(i,a){var s={value:a},u={value:function(){0==--o&&i()}};r.each((function(){var r=Ht(this,n),o=r.on;o!==t&&((e=(t=o).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),r.on=e})),0===o&&i()}))},[Symbol.iterator]:Ar[Symbol.iterator]};var Sr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Er(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}vt.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var r,n,o,i=t.__transition,a=!0;if(i){for(o in e=null==e?null:e+"",i)(r=i[o]).name===e?(n=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(n?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete i[o]):a=!1;a&&delete t.__transition}}(this,t)}))},vt.prototype.transition=function(t){var e,r;t instanceof wr?(e=t._id,t=t._name):(e=_r(),(r=Sr).time=Ft(),t=null==t?null:t+"");for(var n=this._groups,o=n.length,i=0;i<o;++i)for(var a,s=n[i],u=s.length,c=0;c<u;++c)(a=s[c])&&Xt(a,t,e,c,s,r||Er(a,e));return new wr(n,this._parents,t,e)};var xr=r(2);function Pr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Or(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Pr(Object(r),!0).forEach((function(e){kr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function kr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var jr="xdsm",Tr="xdsm2";function Nr(t,e,r,n){this.x=t,this.y=e,this.width=r,this.height=n}function Rr(t,e,r){this.graph=t,this.version=r.version||Tr;var n=mt(".".concat(this.version));this.svg=n.append("svg").attr("width",1e3).attr("height",500).attr("id",e),this.grid=[],this.nodes=[],this.edges=[],this.svgid=e,this.default_config={labelizer:{ellipsis:5,subSupScript:!0,showLinkNbOnly:!1},layout:{origin:{x:100,y:20},cellsize:{w:250,h:75},padding:20},withDefaultDriver:!0,withTitleTooltip:!0},this.config=Or(Or({},this.default_config),r),this.config.labelizer=Or(Or({},this.default_config.labelizer),r.labelizer),this.config.layout=Or(Or({},this.default_config.layout),r.layout),this.config.withTitleTooltip&&(this.tooltip=mt("body").append("div").attr("class","xdsm-tooltip").style("opacity",0)),this._initialize()}Rr.prototype.setVersion=function(t){this.version=t},Rr.prototype.addNode=function(t){this.graph.addNode(t),this.draw()},Rr.prototype.removeNode=function(t){this.graph.removeNode(t),this.draw()},Rr.prototype.hasWorkflow=function(){return 0!==this.graph.chains.length},Rr.prototype._initialize=function(){var t=this;t._createTitle(),t.nodeGroup=t.svg.append("g").attr("class","nodes"),t.edgeGroup=t.svg.append("g").attr("class","edges")},Rr.prototype.updateMdo=function(t){this.graph=new bt.a(t,this.config.withDefaultDriver),this.refresh()},Rr.prototype.refresh=function(){var t=this;t.svg.selectAll("g").remove(),t.nodeGroup=t.svg.append("g").attr("class","nodes"),t.edgeGroup=t.svg.append("g").attr("class","edges"),t.draw()},Rr.prototype.draw=function(){var t=this;t.nodes=t._createTextGroup("node",t.nodeGroup,t._customRect),t.edges=t._createTextGroup("edge",t.edgeGroup,t._customTrapz),t._createWorkflow(),t._createDataflow(),t._createBorder();var e=t.config.layout.cellsize.w*(t.graph.nodes.length+1),r=t.config.layout.cellsize.h*(t.graph.nodes.length+1);t.svg.attr("width",e).attr("height",r),t.svg.selectAll(".border").attr("height",r-4).attr("width",e-4)},Rr.prototype._createTextGroup=function(t,e,r){var n=this,o=e.selectAll(".".concat(t)).data(this.graph["".concat(t,"s")],(function(t){return t.id})),i=xr.a.labelize().labelKind(t).ellipsis(n.config.labelizer.ellipsis).subSupScript(n.config.labelizer.subSupScript).linkNbOnly(n.config.labelizer.showLinkNbOnly),a=o.enter().append("g").attr("class",(function(e){var r="node"===t?e.type:"dataInter";return"dataInter"!==r||0!==e.row&&0!==e.col||(r="dataIO"),"id".concat(e.id," ").concat(t," ").concat(r)})).each((function(t){mt(this).call(i.subXdsmLink(t.subxdsm))})).each((function(t,e){var r=n.grid,o=mt(this);void 0===r[e]&&(r[e]=new Array(n.graph.nodes.length)),o.select("text").each((function(t,n){var i=mt(this),a=o.data()[0],s=void 0===a.row?e:a.row,u=void 0===a.col?e:a.col,c=i.nodes()[n].getBBox();r[s][u]=new Nr(-c.width/2,0,c.width,c.height),i.attr("width",(function(){return r[s][u].width})).attr("height",(function(){return r[s][u].height})).attr("x",(function(){return r[s][u].x})).attr("y",(function(){return r[s][u].y}))}))})).each((function(t,e){var o=mt(this);o.call(r.bind(n),t,e,0),t.isMulti&&(o.call(r.bind(n),t,e,1*Number(3)),o.call(r.bind(n),t,e,2*Number(3)))})).merge(o);o.exit().remove(),n.tooltip?wt(".ellipsized").on("mouseover",(function(t,e){n.tooltip.transition().duration(200).style("opacity",.9);var r=xr.a.tooltipize().subSupScript(n.config.labelizer.subSupScript).text(e.name);n.tooltip.call(r).style("width","".concat(300,"px")).style("left","".concat(t.pageX,"px")).style("top","".concat(t.pageY-28,"px"))})).on("mouseout",(function(){n.tooltip.transition().duration(500).style("opacity",0)})):wt(".ellipsized").attr("title",(function(t){return t.name.split(",").join(", ")})),n._layoutText(a,r,(o.empty(),0))},Rr.prototype._layoutText=function(t,e,r){var n=this;t.transition().duration(r).attr("transform",(function(t,e){var r=void 0===t.col?e:t.col,o=void 0===t.row?e:t.row,i=n.config.layout.cellsize.w*r+n.config.layout.origin.x,a=n.config.layout.cellsize.h*o+n.config.layout.origin.y;return"translate(".concat(n.config.layout.origin.x+i,",").concat(n.config.layout.origin.y+a,")")}))},Rr.prototype._createWorkflow=function(){var t=this;this.svg.selectAll(".workflow").data([t.graph]).enter().insert("g",":first-child").attr("class","workflow").selectAll("g").data(t.graph.chains).enter().insert("g").attr("class","workflow-chain").selectAll("path").data((function(t){return t})).enter().append("path").attr("class",(function(t){return"link_".concat(t[0],"_").concat(t[1])})).attr("transform",(function(e){var r,n,o=Math.max(e[0],e[1]),i=Math.min(e[0],e[1]);return e[0]<e[1]?(r=t.config.layout.cellsize.w*o+t.config.layout.origin.x,n=t.config.layout.cellsize.h*i+t.config.layout.origin.y):(r=t.config.layout.cellsize.w*i+t.config.layout.origin.x,n=t.config.layout.cellsize.h*o+t.config.layout.origin.y),"translate(".concat(t.config.layout.origin.x+r,",").concat(t.config.layout.origin.y+n,")")})).attr("d",(function(e){var r=t.config.layout.cellsize.w*Math.abs(e[0]-e[1]),n=t.config.layout.cellsize.h*Math.abs(e[0]-e[1]),o=[];return e[0]<e[1]?(0!==e[0]&&o.push("".concat(-r,",0")),o.push("0,0"),0!==e[1]&&o.push("0,".concat(n))):(0!==e[0]&&o.push("".concat(r,",0")),o.push("0,0"),0!==e[1]&&o.push("0,".concat(-n))),"M".concat(o.join(" "))}))},Rr.prototype._createDataflow=function(){var t=this;t.svg.selectAll(".dataflow").data([t]).enter().insert("g",":first-child").attr("class","dataflow");var e=t.svg.select(".dataflow").selectAll("path").data(t.graph.edges,(function(t){return t.id}));e.enter().append("path").merge(e).transition().duration((e.empty(),0)).attr("transform",(function(e,r){var n=void 0===e.col?r:e.col,o=void 0===e.row?r:e.row,i=t.config.layout.cellsize.w*n+t.config.layout.origin.x,a=t.config.layout.cellsize.h*o+t.config.layout.origin.y;return"translate(".concat(t.config.layout.origin.x+i,",").concat(t.config.layout.origin.y+a,")")})).attr("d",(function(e){var r=t.config.layout.cellsize.w*Math.abs(e.col-e.row),n=t.config.layout.cellsize.h*Math.abs(e.col-e.row),o=[];return"in"===e.iotype?(0!==e.row&&o.push("".concat(-r,",0")),o.push("0,0"),0!==e.col&&o.push("0,".concat(n))):(0!==e.row&&o.push("".concat(r,",0")),o.push("0,0"),0!==e.col&&o.push("0,".concat(-n))),"M".concat(o.join(" "))})),e.exit().remove()},Rr.prototype._customRect=function(t,e,r,n){var o=this,i=o.grid;if(this.version!==Tr||"group"!==e.type&&"implicit-group"!==e.type&&"sub-optimization"!==e.type&&"mdo"!==e.type)t.insert("rect",":first-child").classed("shape",!0).attr("x",(function(){return i[r][r].x+n-o.config.layout.padding})).attr("y",(function(){return-i[r][r].height*(2/3)-o.config.layout.padding-n})).attr("width",(function(){return i[r][r].width+2*o.config.layout.padding})).attr("height",(function(){return i[r][r].height+2*o.config.layout.padding})).attr("rx",(function(){return"driver"===e.type||"optimization"===e.type||"mda"===e.type||"doe"===e.type?(i[r][r].height+2*o.config.layout.padding)/2:0})).attr("ry",(function(){return"driver"===e.type||"optimization"===e.type||"mda"===e.type||"doe"===e.type?(i[r][r].height+2*o.config.layout.padding)/2:0}));else{var a=i[r][r].x+n-o.config.layout.padding,s=-i[r][r].height*(2/3)-o.config.layout.padding-n,u=i[r][r].x+n+o.config.layout.padding+i[r][r].width,c=-i[r][r].height*(2/3)+o.config.layout.padding-n+i[r][r].height,l=10,f="".concat(a+l,",").concat(s," ").concat(u-l,",").concat(s," ").concat(u,",").concat(s+l," ").concat(u,",").concat(c-l," ").concat(u-l,",").concat(c," ").concat(a+l,",").concat(c," ").concat(a,",").concat(c-l," ").concat(a,",").concat(s+l);t.insert("polygon",":first-child").classed("shape",!0).attr("points",f)}},Rr.prototype._customTrapz=function(t,e,r,n){var o=this.grid;t.insert("polygon",":first-child").classed("shape",!0).attr("points",(function(t){var e=o[t.row][t.col].width,r=o[t.row][t.col].height;return["".concat(-5-e/2+n,", ").concat(-5-r*(2/3)-n," "),"".concat(e/2+5+n+5,", ").concat(-5-r*(2/3)-n," "),"".concat(e/2+5+n-5+5,", ").concat(5+r/3-n," "),"".concat(-5-e/2+n-5,", ").concat(5+r/3-n," ")].join(" ")}))},Rr.prototype._createTitle=function(){var t=this;t.svg.selectAll(".title").data([t.svgid]).enter().append("g").classed("title",!0).append("a").attr("id",t.svgid).append("text").text("root"===t.svgid?"":t.svgid).attr("transform","translate(".concat(t.config.layout.origin.x,", ").concat(t.config.layout.origin.y-5,")"))},Rr.prototype._createBorder=function(){this.svg.selectAll(".border").data([this]).enter().append("rect").classed("border",!0).attr("x",4).attr("y",4).style("stroke","black").style("fill","none").style("stroke-width",0)};var Ir=Rr;function Mr(t,e){this._xdsm=t,this._selection=null,this._prevSelection=null,this._callback=e,this.enable()}Mr.prototype.enable=function(){this._addEventHandler(".node"),this._addEventHandler(".edge")},Mr.prototype._addEventHandler=function(t){var e=this;wt(t).on("click",(function(){var t=mt('[data-xdsm-selected="true"]');e._unselect(t);var r=mt(this);(t.empty()||t.data()[0].id!==r.data()[0].id)&&e._select(r),e._callback(e.getFilter())}))},Mr.prototype._select=function(t){t.attr("data-xdsm-selected",!0),t.select(".shape").transition().duration(100).style("stroke-width","4px")},Mr.prototype._unselect=function(t){t.attr("data-xdsm-selected",null),t.select(".shape").transition().duration(100).style("stroke-width",null)},Mr.prototype.getFilter=function(){var t={fr:void 0,to:void 0},e=mt('[data-xdsm-selected="true"]');if(!e.empty()){var r=e.data()[0];r.iotype?(t.fr=this._xdsm.graph.getNodeFromIndex(r.row).id,t.to=this._xdsm.graph.getNodeFromIndex(r.col).id):(t.fr=r.id,t.to=r.id)}return t},Mr.prototype.setFilter=function(t){var e,r=this,n=mt('[data-xdsm-selected="true"]');t.fr===t.to?void 0!==t.fr&&(e=mt(".id".concat(t.fr)),r._select(e)):void 0!==t.fr&&void 0!==t.to&&(e=mt(".idlink_".concat(t.fr,"_").concat(t.to)),r._select(e)),(!e||e.empty()||!n.empty()&&n.data()[0].id!==e.data()[0].id)&&r._unselect(n)};var Ur=Mr,Br=700,Dr=Ne("seagreen"),Fr=Ne("firebrick"),Cr=Ne("darkseagreen"),qr=Ne("darkcyan");function Lr(t,e,r){this.rootId=e,void 0===e&&(this.rootId="root"),this.root=t[this.rootId],this.xdsms=t,this.duration=Br,this.initialDelay=r||0,this._observers=[],this.reset()}Lr.STATUS={READY:"ready",RUNNING_STEP:"running_step",RUNNING_AUTO:"running_auto",STOPPED:"stopped",DONE:"done",DISABLED:"disabled"},Lr.prototype.reset=function(){this.curStep=0,this.subAnimations={},this._updateStatus(Lr.STATUS.READY)},Lr.prototype.start=function(){this._scheduleAnimation(),this._updateStatus(Lr.STATUS.RUNNING_AUTO)},Lr.prototype.stop=function(){this._reset("all"),this._updateStatus(Lr.STATUS.STOPPED)},Lr.prototype.stepPrev=function(){this._step("prev")},Lr.prototype.stepNext=function(){this._step("next")},Lr.prototype.setXdsmVersion=function(t){Object.values(this.xdsms).forEach((function(e){e.setVersion(t),e.refresh()}),this)},Lr.prototype._step=function(t){var e="prev"===t,r=this,n=r.xdsms[r.rootId].graph,o=n.nodesByStep,i=e?-1:1;if(!(!e&&r.done()||e&&r.ready())){if(!r._subAnimationInProgress())r.curStep+=i,r._reset(),o[r.curStep].forEach((function(t){r.running()&&o[r.curStep-i].forEach((function(n){e?r._pulseLink(0,t,n):r._pulseLink(0,n,t);var o="g.id".concat(n);r._pulseNode(0,o,"out")}));var n="g.id".concat(t);r._pulseNode(0,n,"in")}));o[r.curStep].some(r._isSubXdsm,this)&&o[r.curStep].forEach((function(e){if(r._isSubXdsm(e)){var o=n.getNode(e).getSubXdsmId();r.subAnimations[o]||(r.subAnimations[o]=new Lr(r.xdsms,o)),r.subAnimations[o]._step(t)}}),this),this.done()?this._updateStatus(Lr.STATUS.DONE):this.ready()?this._updateStatus(Lr.STATUS.READY):this._updateStatus(Lr.STATUS.RUNNING_STEP)}},Lr.prototype.running=function(){return!this.ready()&&!this.done()},Lr.prototype.ready=function(){return 0===this.curStep},Lr.prototype.done=function(){return this.curStep===this.root.graph.nodesByStep.length-1},Lr.prototype.isStatus=function(t){return this.status===t},Lr.prototype.addObserver=function(t){t&&this._observers.push(t)},Lr.prototype.renderNodeStatuses=function(){var t=this,e=t.xdsms[t.rootId].graph;e.nodes.forEach((function(r){var n="g.".concat(r.id);switch(r.status){case bt.a.NODE_STATUS.RUNNING:t._pulseNode(0,n,"in",Dr);break;case bt.a.NODE_STATUS.FAILED:t._pulseNode(0,n,"in",Fr);break;case bt.a.NODE_STATUS.PENDING:t._pulseNode(0,n,"in",Cr);break;case bt.a.NODE_STATUS.DONE:t._pulseNode(0,n,"in",qr)}if(t._isSubXdsm(r.id)){var o=e.getNode(r.id).getSubXdsmId();new Lr(t.xdsms,o).renderNodeStatuses()}}))},Lr.prototype._updateStatus=function(t){this.status=t,this._notifyObservers(t)},Lr.prototype._notifyObservers=function(){var t=this;this._observers.map((function(e){return e.update(t.status)}))},Lr.prototype._pulse=function(t,e,r,n){var o=n||Dr,i=mt("svg#".concat(this.rootId)).selectAll(e).transition().delay(t);"out"!==r&&(i=i.transition().duration(200).style("stroke-width","8px").style("stroke",o).style("fill",(function(t){return t.id?o.brighter():null}))),"in"!==r&&i.transition().duration(2100).style("stroke-width",null).style("stroke",null).style("fill",null)},Lr.prototype._pulseNode=function(t,e,r,n){this._pulse(t,"".concat(e," > rect"),r,n),this._pulse(t,"".concat(e," > polygon"),r,n)},Lr.prototype._pulseLink=function(t,e,r){var n=this.xdsms[this.rootId].graph,o=n.idxOf(e),i=n.idxOf(r);this._pulse(t,"path.link_".concat(o,"_").concat(i))},Lr.prototype._onAnimationStart=function(t){mt("svg#".concat(this.rootId)).select("g.title").select("text").transition().delay(t).style("fill",Dr),mt("svg#".concat(this.rootId)).select("rect.border").transition().delay(t).style("stroke-width","5px").duration(200).transition().duration(1e3).style("stroke","black").style("stroke-width","0px")},Lr.prototype._onAnimationDone=function(t){var e=this;mt("svg#".concat(this.rootId)).select("g.title").select("text").transition().delay(t).style("fill",null).on("end",(function(){e._updateStatus(Lr.STATUS.DONE)}))},Lr.prototype._isSubXdsm=function(t){var e="g.id".concat(t),r=mt("svg#".concat(this.rootId)).select(e);return r.classed("mdo")||r.classed("sub-optimization")||r.classed("group")||r.classed("implicit-group")},Lr.prototype._scheduleAnimation=function(){var t=this,e=this,r=this.initialDelay,n=e.xdsms[e.rootId].graph;return e._onAnimationStart(r),n.nodesByStep.forEach((function(o,i,a){var s=[];o.forEach((function(t){var o=r+i*Br;if(i>0){a[i-1].forEach((function(r){e._pulseLink(o,r,t)}));var u="g.id".concat(t);if(e._isSubXdsm(t)){e._pulseNode(o,u,"in");var c=n.getNode(t).getSubXdsmId(),l=new Lr(e.xdsms,c,o+200)._scheduleAnimation();s.push(l),e._pulseNode(l+o+200,u,"out")}else e._pulseNode(o,u)}}),t),s.length>0&&(r+=Math.max.apply(null,s)),r+=200}),this),e._onAnimationDone(n.nodesByStep.length*Br+r),n.nodesByStep.length*Br},Lr.prototype._reset=function(t){var e=mt("svg#".concat(this.rootId));t&&(e=wt("svg")),e.selectAll("rect").transition().duration(0).style("stroke-width",null).style("stroke",null),e.selectAll("polygon").transition().duration(0).style("stroke-width",null).style("stroke",null),e.selectAll(".title > text").transition().duration(0).style("fill",null),e.selectAll(".node > rect").transition().duration(0).style("stroke-width",null).style("stroke",null).style("fill",null),e.selectAll(".node > polygon").transition().duration(0).style("stroke-width",null).style("stroke",null).style("fill",null),e.selectAll("path").transition().duration(0).style("stroke-width",null).style("stroke",null).style("fill",null)},Lr.prototype._resetPreviousStep=function(){var t=this;this.root.graph.nodesByStep[this.curStep-1].forEach((function(e){var r="g.id".concat(e);t._pulseNode(0,r,"out")}),this)},Lr.prototype._subAnimationInProgress=function(){var t=!1;for(var e in this.subAnimations)Object.prototype.hasOwnProperty.call(this.subAnimations,e)&&(t=t||this.subAnimations[e].running());return t};var Wr=Lr;function Gr(t,e){var r=this;this.animation=t,this.defaultVersion=e||Tr;var n=mt(".xdsm-toolbar").append("div").classed("button_group",!0);n.append("button").attr("id","start").append("i").attr("class","icon-start"),n.append("button").attr("id","stop").append("i").attr("class","icon-stop"),n.append("button").attr("id","step-prev").append("i").attr("class","icon-step-prev"),n.append("button").attr("id","step-next").append("i").attr("class","icon-step-next"),n.append("label").text("XDSM").attr("id","xdsm-version-label"),n.append("select").attr("id","xdsm-version-toggle"),this.startButton=mt("button#start"),this.stopButton=mt("button#stop"),this.stepPrevButton=mt("button#step-prev"),this.stepNextButton=mt("button#step-next"),this.toggleVersionButton=mt("select#xdsm-version-toggle");var o={v1:jr,v2:Tr};this.toggleVersionButton.selectAll("versions").data(["v1","v2"]).enter().append("option").text((function(t){return t})).attr("value",(function(t){return o[t]})).property("selected",(function(t){return e===o[t]})),this.startButton.on("click",(function(){r.animation.start()})),this.stopButton.on("click",(function(){r.animation.stop()})),this.stepPrevButton.on("click",(function(){r.animation.stepPrev()})),this.stepNextButton.on("click",(function(){r.animation.stepNext()})),this.toggleVersionButton.on("change",(function(){var t=mt("select#xdsm-version-toggle").property("value"),e=mt(".".concat(t));e.empty()&&t===jr&&(e=mt(".".concat(Tr))).classed(Tr,!1).classed(jr,!0),e.empty()&&t===Tr&&(e=mt(".".concat(jr))).classed(jr,!1).classed(Tr,!0),r.animation.setXdsmVersion(t)})),this.animation.addObserver(this),this.update(this.animation.status)}Gr.prototype.update=function(t){switch(t){case Wr.STATUS.STOPPED:case Wr.STATUS.DONE:this.animation.reset();case Wr.STATUS.READY:this._enable(this.startButton),this._disable(this.stopButton),this._enable(this.stepNextButton),this._enable(this.stepPrevButton);break;case Wr.STATUS.RUNNING_AUTO:this._disable(this.startButton),this._enable(this.stopButton),this._disable(this.stepNextButton),this._disable(this.stepPrevButton);break;case Wr.STATUS.RUNNING_STEP:this._disable(this.startButton),this._enable(this.stopButton),this._enable(this.stepNextButton),this._enable(this.stepPrevButton);break;default:console.log("Unexpected Event: ".concat(t))}},Gr.prototype._enable=function(t){t.attr("disabled",null)},Gr.prototype._disable=function(t){t.attr("disabled",!0)};var zr=Gr;function Yr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Vr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Yr(Object(r),!0).forEach((function(e){$r(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function $r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Hr(t,e,r){return e&&Jr(t.prototype,e),r&&Jr(t,r),t}var Kr=function(){function t(e,r,n){Xr(this,t);var o=new bt.a(e,n.withDefaultDriver);this.xdsm=new Ir(o,"root",n),this.xdsm.draw(),this.selectable=new Ur(this.xdsm,r),this.selectable.enable()}return Hr(t,[{key:"updateMdo",value:function(t){this.xdsm.updateMdo(t),this.selectable.enable()}},{key:"setSelection",value:function(t){this.selectable.setFilter(t)}}]),t}(),Zr=function(){function t(e){Xr(this,t),this._version=t._detectVersion()||Tr,this.default_config={labelizer:{ellipsis:5,subSupScript:!0,showLinkNbOnly:!1},withDefaultDriver:!0},this._config=Vr(Vr({},this.default_config),e),this._config.version=this._version}return Hr(t,[{key:"createXdsm",value:function(t){var e=this,r=this._version,o=mt(".".concat(r));if(o.empty())console.log("No element of ".concat(r,' class. Please add <div class="').concat(r,'"></div> in your HTML.'));else if(t)this._createXdsm(t,r);else{var i=o.attr("data-mdo");if(i)this._createXdsm(JSON.parse(i),r);else(function(t,e){return fetch(t,e).then(n)})(o.attr("data-mdo-file")||"xdsm.json").then((function(t){return e._createXdsm(t,r)}))}}},{key:"createSelectableXdsm",value:function(t,e){return new Kr(t,e,this._config)}},{key:"_createXdsm",value:function(e,r){var n=this,o=t._orderedList(e);mt("body").selectAll("optpb").data(o).enter().append("div").filter((function(t){return e[t].optpb})).attr("class",(function(t){return"optpb ".concat(t)})).style("opacity",0).on("click",(function(){mt(this).transition().duration(500).style("opacity",0).style("pointer-events","none")})).append("pre").html((function(t){return e[t].optpb}));var i={};if(-1===o.indexOf("root")){var a=new bt.a(e,this._config.withDefaultDriver);i.root=new Ir(a,"root",this._config),i.root.draw()}else o.forEach((function(t){if(Object.prototype.hasOwnProperty.call(e,t)){var r=new bt.a(e[t],n._config.withDefaultDriver);i[t]=new Ir(r,t,n._config),i[t].draw(),i[t].svg.select(".optimization").on("click",(function(e){var r=mt(".optpb.".concat(t));r.style("opacity",.9),r.style("left","".concat(e.pageX,"px")).style("top","".concat(e.pageY-28,"px")),r.style("pointer-events","auto")}))}}),this);var s=new Wr(i);if(i.root.hasWorkflow())new zr(s,r);s.renderNodeStatuses()}}],[{key:"_detectVersion",value:function(){return mt(".".concat(jr)).empty()?Tr:jr}},{key:"_orderedList",value:function(e,r,n){var o=r||"root",i=n||0;if(e[o]){var a=e[o].nodes.map((function(t){return t.subxdsm})).filter((function(t){return t})),s=[o];if(a.length>0)for(var u=0;u<a.length;u+=1)s=s.concat(t._orderedList(e,a[u],i+1));return s}if(0===i)return Object.keys(e).sort();throw new Error("sub-XDSM '".concat(o,"' not found among ").concat(Object.keys(e)))}},{key:"XDSM_V1",get:function(){return jr}},{key:"XDSM_V2",get:function(){return Tr}}]),t}();e.a=Zr},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},function(t,e,r){"use strict";var n=r(18),o=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=f;var i=Object.create(r(14));i.inherits=r(9);var a=r(33),s=r(27);i.inherits(f,a);for(var u=o(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(t){if(!(this instanceof f))return new f(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||n.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),f.prototype._destroy=function(t,e){this.push(null),this.end(),n.nextTick(e,t)}},,,function(t,e,r){"use strict";var n,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(r,n){function o(){void 0!==i&&t.removeListener("error",i),r([].slice.call(arguments))}var i;"error"!==e&&(i=function(r){t.removeListener(e,o),n(r)},t.once("error",i)),t.once(e,o)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function f(t,e,r,n){var o,i,a,s;if(c(r),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),a=i[e]),void 0===a)a=i[e]=r,++t._eventsCount;else if("function"==typeof a?a=i[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(o=l(t))>0&&a.length>o&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return t}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},o=p.bind(n);return o.listener=r,n.wrapFn=o,o}function h(t,e,r){var n=t._events;if(void 0===n)return[];var o=n[e];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(o):g(o,o.length)}function y(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[t];if(void 0===u)return!1;if("function"==typeof u)i(u,this,e);else{var c=u.length,l=g(u,c);for(r=0;r<c;++r)i(l[r],this,e)}return!0},s.prototype.addListener=function(t,e){return f(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return f(this,t,e,!0)},s.prototype.once=function(t,e){return c(e),this.on(t,d(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,d(this,t,e)),this},s.prototype.removeListener=function(t,e){var r,n,o,i,a;if(c(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===e||r[i].listener===e){a=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,o),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},s.prototype.listeners=function(t){return h(this,t,!0)},s.prototype.rawListeners=function(t){return h(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):y.call(t,e)},s.prototype.listenerCount=y,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(t,e,r){(function(t){function r(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===r(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===r(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===r(t)},e.isError=function(t){return"[object Error]"===r(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,r(26).Buffer)},function(t,e,r){"use strict";var n,o=TypeError,i=Object.getOwnPropertyDescriptor;if(i)try{i({},"")}catch(t){i=null}var a=function(){throw new o},s=i?function(){try{return a}catch(t){try{return i(arguments,"callee").get}catch(t){return a}}}():a,u=r(7)(),c=Object.getPrototypeOf||function(t){return t.__proto__},l=n,f=n,p=n,d=n,h="undefined"==typeof Uint8Array?n:c(Uint8Array),y={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":u?c([][Symbol.iterator]()):n,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":f,"%AsyncFunctionPrototype%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":p,"%AsyncGeneratorPrototype%":n,"%AsyncIteratorPrototype%":d&&u&&Symbol.asyncIterator?d[Symbol.asyncIterator]():n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?n:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?n:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?n:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?n:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":n,"%GeneratorFunction%":l,"%GeneratorPrototype%":n,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?n:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?n:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?n:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?c(c([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%JSONParse%":"object"==typeof JSON?JSON.parse:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u?c((new Map)[Symbol.iterator]()):n,"%MapPrototype%":"undefined"==typeof Map?n:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%PromisePrototype%":"undefined"==typeof Promise?n:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?n:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?n:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?n:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?n:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u?c((new Set)[Symbol.iterator]()):n,"%SetPrototype%":"undefined"==typeof Set?n:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":u?c(""[Symbol.iterator]()):n,"%StringPrototype%":String.prototype,"%Symbol%":u?Symbol:n,"%SymbolPrototype%":u?Symbol.prototype:n,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":s,"%TypedArray%":h,"%TypedArrayPrototype%":h?h.prototype:n,"%TypeError%":o,"%TypeErrorPrototype%":o.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?n:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?n:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?n:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?n:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?n:WeakSet.prototype},g=r(4).call(Function.call,String.prototype.replace),v=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,m=/\\(\\)?/g,b=function(t){var e=[];return g(t,v,(function(t,r,n,o){e[e.length]=n?g(o,m,"$1"):r||t})),e},w=function(t,e){if(!(t in y))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===y[t]&&!e)throw new o("intrinsic "+t+" exists, but is not available. Please file an issue!");return y[t]};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');for(var r=b(t),n=w("%"+(r.length>0?r[0]:"")+"%",e),a=1;a<r.length;a+=1)if(null!=n)if(i&&a+1>=r.length){var s=i(n,r[a]);if(!e&&!(r[a]in n))throw new o("base intrinsic for "+t+" exists, but the property is not available.");n=s?s.get||s.value:n[r[a]]}else n=n[r[a]];return n}},function(t,e,r){"use strict";var n=r(4);t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,r){(function(e){var n=r(67);function o(t,r,o){t=t||function(t){this.queue(t)},r=r||function(){this.queue(null)};var i=!1,a=!1,s=[],u=!1,c=new n;function l(){for(;s.length&&!c.paused;){var t=s.shift();if(null===t)return c.emit("end");c.emit("data",t)}}function f(){c.writable=!1,r.call(c),!c.readable&&c.autoDestroy&&c.destroy()}return c.readable=c.writable=!0,c.paused=!1,c.autoDestroy=!(o&&!1===o.autoDestroy),c.write=function(e){return t.call(this,e),!c.paused},c.queue=c.push=function(t){return u||(null===t&&(u=!0),s.push(t),l()),c},c.on("end",(function(){c.readable=!1,!c.writable&&c.autoDestroy&&e.nextTick((function(){c.destroy()}))})),c.end=function(t){if(!i)return i=!0,arguments.length&&c.write(t),f(),c},c.destroy=function(){if(!a)return a=!0,i=!0,s.length=0,c.writable=c.readable=!1,c.emit("close"),c},c.pause=function(){if(!c.paused)return c.paused=!0,c},c.resume=function(){return c.paused&&(c.paused=!1,c.emit("resume")),l(),c.paused||c.emit("drain"),c},c}t.exports=o,o.through=o}).call(this,r(3))},function(t,e,r){"use strict";(function(e){void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,r,n,o){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,r)}));case 3:return e.nextTick((function(){t.call(null,r,n)}));case 4:return e.nextTick((function(){t.call(null,r,n,o)}));default:for(i=new Array(s-1),a=0;a<i.length;)i[a++]=arguments[a];return e.nextTick((function(){t.apply(null,i)}))}}}:t.exports=e}).call(this,r(3))},function(t,e,r){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},r(73),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(5))},function(t,e,r){"use strict";var n=r(15),o=r(29),i=o(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&i(t,".prototype.")?o(r):r}},function(t,e,r){"use strict";var n,o=SyntaxError,i=Function,a=TypeError,s=function(t){try{return Function('"use strict"; return ('+t+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(t){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(t){try{return u(arguments,"callee").get}catch(t){return c}}}():c,f=r(7)(),p=Object.getPrototypeOf||function(t){return t.__proto__},d=s("async function* () {}"),h=d?d.prototype:n,y=h?h.prototype:n,g="undefined"==typeof Uint8Array?n:p(Uint8Array),v={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f?p([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":s("async function () {}"),"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":y?p(y):n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":s("function* () {}"),"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?p(p([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?p((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?p((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?p(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":l,"%TypedArray%":g,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=r(4),w=r(16),_=b.call(Function.call,Array.prototype.concat),A=b.call(Function.apply,Array.prototype.splice),S=b.call(Function.call,String.prototype.replace),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,x=/\\(\\)?/g,P=function(t){var e=[];return S(t,E,(function(t,r,n,o){e[e.length]=n?S(o,x,"$1"):r||t})),e},O=function(t,e){var r,n=t;if(w(m,n)&&(n="%"+(r=m[n])[0]+"%"),w(v,n)){var i=v[n];if(void 0===i&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new a('"allowMissing" argument must be a boolean');var r=P(t),n=r.length>0?r[0]:"",o=O("%"+n+"%",e),i=o.name,s=o.value,c=!1,l=o.alias;l&&(n=l[0],A(r,_([0,1],l)));for(var f=1,p=!0;f<r.length;f+=1){var d=r[f];if("constructor"!==d&&p||(c=!0),w(v,i="%"+(n+="."+d)+"%"))s=v[i];else if(null!=s){if(u&&f+1>=r.length){var h=u(s,d);if(p=!!h,!e&&!(d in s))throw new a("base intrinsic for "+t+" exists, but the property is not available.");s=p?h.get||h.value:s[d]}else p=w(s,d),s=s[d];p&&!c&&(v[i]=s)}}return s}},,function(t,e){t.exports=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}},function(t,e,r){(e=t.exports=r(33)).Stream=e,e.Readable=e,e.Writable=r(27),e.Duplex=r(10),e.Transform=r(38),e.PassThrough=r(76)},function(t,e,r){var n=r(26),o=n.Buffer;function i(t,e){for(var r in t)e[r]=t[r]}function a(t,e,r){return o(t,e,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=a),i(o,a),a.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,r)},a.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=o(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},function(t,e,r){"use strict";(function(t){var n=r(68),o=r(69),i=r(34);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return c(this,t,e,r)}function c(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=p(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|h(e,r),o=(t=s(t,n)).write(e,r);o!==n&&(t=t.slice(0,o));return t}(t,e,r):function(t,e){if(u.isBuffer(e)){var r=0|d(e.length);return 0===(t=s(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?s(t,0):p(t,e);if("Buffer"===e.type&&i(e.data))return p(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function p(t,e){var r=e.length<0?0:0|d(e.length);t=s(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function h(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return L(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(t).length;default:if(n)return L(t).length;e=(""+e).toLowerCase(),n=!0}}function y(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,r);case"utf8":case"utf-8":return P(this,e,r);case"ascii":return k(this,e,r);case"latin1":case"binary":return j(this,e,r);case"base64":return x(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function g(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function v(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:m(t,e,r,n,o);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):m(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function m(t,e,r,n,o){var i,a=1,s=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var l=-1;for(i=r;i<s;i++)if(c(t,i)===c(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(r+u>s&&(r=s-u),i=r;i>=0;i--){for(var f=!0,p=0;p<u;p++)if(c(t,i+p)!==c(e,p)){f=!1;break}if(f)return i}return-1}function b(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function w(t,e,r,n){return G(L(e,t.length-r),t,r,n)}function _(t,e,r,n){return G(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function A(t,e,r,n){return _(t,e,r,n)}function S(t,e,r,n){return G(W(e),t,r,n)}function E(t,e,r,n){return G(function(t,e){for(var r,n,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=(r=t.charCodeAt(a))>>8,o=r%256,i.push(o),i.push(n);return i}(e,t.length-r),t,r,n)}function x(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function P(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var i,a,s,u,c=t[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=t[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=t[o+1],a=t[o+2],s=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),o+=f}return function(t){var e=t.length;if(e<=O)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=O));return r}(n)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return c(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,r){return function(t,e,r,n){return l(e),e<=0?s(t,e):void 0!==r?"string"==typeof n?s(t,e).fill(r,n):s(t,e).fill(r):s(t,e)}(null,t,e,r)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var a=t[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o),o+=a.length}return n},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):y.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,r,n,o){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),s=Math.min(i,a),c=this.slice(n,o),l=t.slice(e,r),f=0;f<s;++f)if(c[f]!==l[f]){i=c[f],a=l[f];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return v(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return v(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return b(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":return _(this,t,e,r);case"latin1":case"binary":return A(this,t,e,r);case"base64":return S(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function k(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function j(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function T(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=q(t[i]);return o}function N(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function R(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,r,n,o,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function M(t,e,r,n){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-r,2);o<i;++o)t[r+o]=(e&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function U(t,e,r,n){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-r,4);o<i;++o)t[r+o]=e>>>8*(n?o:3-o)&255}function B(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(t,e,r,n,i){return i||B(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function F(t,e,r,n,i){return i||B(t,0,r,8),o.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=u.prototype;else{var o=e-t;r=new u(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+t]}return r},u.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},u.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},u.prototype.readUInt8=function(t,e){return e||R(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||R(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||R(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=e,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||R(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){e||R(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||R(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||R(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||R(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||R(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||I(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||I(this,t,e,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||I(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||I(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||I(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||I(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):U(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||I(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);I(this,t,e,r,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<r&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);I(this,t,e,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||I(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||I(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||I(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||I(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):U(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,r){return D(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return D(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return F(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return F(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o,i=n-r;if(this===t&&r<e&&e<n)for(o=i-1;o>=0;--o)t[o+e]=this[o+r];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var a=u.isBuffer(t)?t:L(new u(t,n).toString()),s=a.length;for(i=0;i<r-e;++i)this[i+e]=a[i%s]}return this};var C=/[^+\/0-9A-Za-z-_]/g;function q(t){return t<16?"0"+t.toString(16):t.toString(16)}function L(t,e){var r;e=e||1/0;for(var n=t.length,o=null,i=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function W(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(C,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}}).call(this,r(5))},function(t,e,r){"use strict";(function(e,n,o){var i=r(18);function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var o=n.callback;e.pendingcb--,o(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=m;var s,u=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?n:i.nextTick;m.WritableState=v;var c=Object.create(r(14));c.inherits=r(9);var l={deprecate:r(74)},f=r(35),p=r(25).Buffer,d=o.Uint8Array||function(){};var h,y=r(36);function g(){}function v(t,e){s=s||r(10),t=t||{};var n=e instanceof s;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var o=t.highWaterMark,c=t.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:n&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===t.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,o=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,o){--e.pendingcb,r?(i.nextTick(o,n),i.nextTick(E,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(o(n),t._writableState.errorEmitted=!0,t.emit("error",n),E(t,e))}(t,r,n,e,o);else{var a=A(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||_(t,r),n?u(w,t,r,a,o):w(t,r,a,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function m(t){if(s=s||r(10),!(h.call(m,this)||this instanceof s))return new m(t);this._writableState=new v(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),f.call(this)}function b(t,e,r,n,o,i,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,r?t._writev(o,e.onwrite):t._write(o,i,e.onwrite),e.sync=!1}function w(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),E(t,e)}function _(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,o=new Array(n),i=e.corkedRequestsFree;i.entry=r;for(var s=0,u=!0;r;)o[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;o.allBuffers=u,b(t,e,!0,e.length,o,"",i.finish),e.pendingcb++,e.lastBufferedRequest=null,i.next?(e.corkedRequestsFree=i.next,i.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(b(t,e,!1,e.objectMode?1:c.length,c,l,f),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function A(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function S(t,e){t._final((function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),E(t,e)}))}function E(t,e){var r=A(e);return r&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,i.nextTick(S,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}c.inherits(m,f),v.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(v.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(t){return!!h.call(this,t)||this===m&&(t&&t._writableState instanceof v)}})):h=function(t){return t instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(t,e,r){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=t,p.isBuffer(n)||n instanceof d);return s&&!p.isBuffer(t)&&(t=function(t){return p.from(t)}(t)),"function"==typeof e&&(r=e,e=null),s?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof r&&(r=g),o.ended?function(t,e){var r=new Error("write after end");t.emit("error",r),i.nextTick(e,r)}(this,r):(s||function(t,e,r,n){var o=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),i.nextTick(n,a),o=!1),o}(this,o,t,r))&&(o.pendingcb++,a=function(t,e,r,n,o,i){if(!r){var a=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=p.from(e,r));return e}(e,n,o);n!==a&&(r=!0,o="buffer",n=a)}var s=e.objectMode?1:n.length;e.length+=s;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:i,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,s,n,o,i);return u}(this,o,s,t,e,r)),a},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||_(this,t))},m.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(t,e,r){e.ending=!0,E(t,e),r&&(e.finished?i.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),m.prototype.destroy=y.destroy,m.prototype._undestroy=y.undestroy,m.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,r(3),r(19).setImmediate,r(5))},function(t,e,r){"use strict";var n=Array.prototype.slice,o=r(39),i=Object.keys,a=i?function(t){return i(t)}:r(84),s=Object.keys;a.shim=function(){Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return o(t)?s(n.call(t)):s(t)}):Object.keys=a;return Object.keys||a},t.exports=a},function(t,e,r){"use strict";var n=r(4),o=r(15),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||n.call(a,i);t.exports=function(){return s(n,a,arguments)},t.exports.apply=function(){return s(n,i,arguments)}},function(t,e,r){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e,r){"use strict";var n,o=SyntaxError,i=Function,a=TypeError,s=function(t){try{return Function('"use strict"; return ('+t+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(t){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(t){try{return u(arguments,"callee").get}catch(t){return c}}}():c,f=r(7)(),p=Object.getPrototypeOf||function(t){return t.__proto__},d=s("async function* () {}"),h=d?d.prototype:n,y=h?h.prototype:n,g="undefined"==typeof Uint8Array?n:p(Uint8Array),v={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f?p([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":s("async function () {}"),"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":y?p(y):n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":s("function* () {}"),"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?p(p([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?p((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?p((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?p(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":l,"%TypedArray%":g,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=r(4),w=r(16),_=b.call(Function.call,Array.prototype.concat),A=b.call(Function.apply,Array.prototype.splice),S=b.call(Function.call,String.prototype.replace),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,x=/\\(\\)?/g,P=function(t){var e=[];return S(t,E,(function(t,r,n,o){e[e.length]=n?S(o,x,"$1"):r||t})),e},O=function(t,e){var r,n=t;if(w(m,n)&&(n="%"+(r=m[n])[0]+"%"),w(v,n)){var i=v[n];if(void 0===i&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new a('"allowMissing" argument must be a boolean');var r=P(t),n=r.length>0?r[0]:"",o=O("%"+n+"%",e),i=o.name,s=o.value,c=!1,l=o.alias;l&&(n=l[0],A(r,_([0,1],l)));for(var f=1,p=!0;f<r.length;f+=1){var d=r[f];if("constructor"!==d&&p||(c=!0),w(v,i="%"+(n+="."+d)+"%"))s=v[i];else if(null!=s){if(u&&f+1>=r.length){var h=u(s,d);if(p=!!h,!e&&!(d in s))throw new a("base intrinsic for "+t+" exists, but the property is not available.");s=p?h.get||h.value:s[d]}else p=w(s,d),s=s[d];p&&!c&&(v[i]=s)}}return s}},function(t,e,r){var n="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=n&&o&&"function"==typeof o.get?o.get:null,a=n&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&u&&"function"==typeof u.get?u.get:null,l=s&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,d=Boolean.prototype.valueOf,h=Object.prototype.toString,y=Function.prototype.toString,g=String.prototype.match,v="function"==typeof BigInt?BigInt.prototype.valueOf:null,m=r(104).custom,b=m&&S(m)?m:null;function w(t,e,r){var n="double"===(r.quoteStyle||e)?'"':"'";return n+t+n}function _(t){return String(t).replace(/"/g,"&quot;")}function A(t){return"[object Array]"===P(t)}function S(t){return"[object Symbol]"===P(t)}t.exports=function t(e,r,n,o){var s=r||{};if(x(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(x(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!x(s,"customInspect")||s.customInspect;if("boolean"!=typeof u)throw new TypeError('option "customInspect", if provided, must be `true` or `false`');if(x(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return k(e,s);if("number"==typeof e)return 0===e?1/0/e>0?"0":"-0":String(e);if("bigint"==typeof e)return String(e)+"n";var h=void 0===s.depth?5:s.depth;if(void 0===n&&(n=0),n>=h&&h>0&&"object"==typeof e)return A(e)?"[Array]":"[Object]";var m=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=Array(t.indent+1).join(" ")}return{base:r,prev:Array(e+1).join(r)}}(s,n);if(void 0===o)o=[];else if(O(o,e)>=0)return"[Circular]";function E(e,r,i){if(r&&(o=o.slice()).push(r),i){var a={depth:s.depth};return x(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),t(e,a,n+1,o)}return t(e,s,n+1,o)}if("function"==typeof e){var j=function(t){if(t.name)return t.name;var e=g.call(y.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e);return"[Function"+(j?": "+j:" (anonymous)")+"]"}if(S(e)){var U=Symbol.prototype.toString.call(e);return"object"==typeof e?T(U):U}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var B="<"+String(e.nodeName).toLowerCase(),D=e.attributes||[],F=0;F<D.length;F++)B+=" "+D[F].name+"="+w(_(D[F].value),"double",s);return B+=">",e.childNodes&&e.childNodes.length&&(B+="..."),B+="</"+String(e.nodeName).toLowerCase()+">"}if(A(e)){if(0===e.length)return"[]";var C=M(e,E);return m&&!function(t){for(var e=0;e<t.length;e++)if(O(t[e],"\n")>=0)return!1;return!0}(C)?"["+I(C,m)+"]":"[ "+C.join(", ")+" ]"}if(function(t){return"[object Error]"===P(t)}(e)){var q=M(e,E);return 0===q.length?"["+String(e)+"]":"{ ["+String(e)+"] "+q.join(", ")+" }"}if("object"==typeof e&&u){if(b&&"function"==typeof e[b])return e[b]();if("function"==typeof e.inspect)return e.inspect()}if(function(t){if(!i||!t||"object"!=typeof t)return!1;try{i.call(t);try{c.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var L=[];return a.call(e,(function(t,r){L.push(E(r,e,!0)+" => "+E(t,e))})),R("Map",i.call(e),L,m)}if(function(t){if(!c||!t||"object"!=typeof t)return!1;try{c.call(t);try{i.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var W=[];return l.call(e,(function(t){W.push(E(t,e))})),R("Set",c.call(e),W,m)}if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{f.call(t,f);try{p.call(t,p)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return N("WeakMap");if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{p.call(t,p);try{f.call(t,f)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return N("WeakSet");if(function(t){return"[object Number]"===P(t)}(e))return T(E(Number(e)));if(function(t){return"[object BigInt]"===P(t)}(e))return T(E(v.call(e)));if(function(t){return"[object Boolean]"===P(t)}(e))return T(d.call(e));if(function(t){return"[object String]"===P(t)}(e))return T(E(String(e)));if(!function(t){return"[object Date]"===P(t)}(e)&&!function(t){return"[object RegExp]"===P(t)}(e)){var G=M(e,E);return 0===G.length?"{}":m?"{"+I(G,m)+"}":"{ "+G.join(", ")+" }"}return String(e)};var E=Object.prototype.hasOwnProperty||function(t){return t in this};function x(t,e){return E.call(t,e)}function P(t){return h.call(t)}function O(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function k(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return k(t.slice(0,e.maxStringLength),e)+n}return w(t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,j),"single",e)}function j(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+e.toString(16)}function T(t){return"Object("+t+")"}function N(t){return t+" { ? }"}function R(t,e,r,n){return t+" ("+e+") {"+(n?I(r,n):r.join(", "))+"}"}function I(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+t.join(","+r)+"\n"+e.prev}function M(t,e){var r=A(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=x(t,o)?e(t[o],t):""}for(var i in t)x(t,i)&&(r&&String(Number(i))===i&&i<t.length||(/[^\w$]/.test(i)?n.push(e(i,t)+": "+e(t[i],t)):n.push(i+": "+e(t[i],t))));return n}},function(t,e,r){"use strict";(function(e,n){var o=r(18);t.exports=b;var i,a=r(34);b.ReadableState=m;r(13).EventEmitter;var s=function(t,e){return t.listeners(e).length},u=r(35),c=r(25).Buffer,l=e.Uint8Array||function(){};var f=Object.create(r(14));f.inherits=r(9);var p=r(70),d=void 0;d=p&&p.debuglog?p.debuglog("stream"):function(){};var h,y=r(71),g=r(36);f.inherits(b,u);var v=["error","close","destroy","pause","resume"];function m(t,e){t=t||{};var n=e instanceof(i=i||r(10));this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var o=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(h||(h=r(37).StringDecoder),this.decoder=new h(t.encoding),this.encoding=t.encoding)}function b(t){if(i=i||r(10),!(this instanceof b))return new b(t);this._readableState=new m(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function w(t,e,r,n,o){var i,a=t._readableState;null===e?(a.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,E(t)}(t,a)):(o||(i=function(t,e){var r;n=e,c.isBuffer(n)||n instanceof l||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(a,e)),i?t.emit("error",i):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),n?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):_(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||0!==e.length?_(t,a,e,!1):P(t,a)):_(t,a,e,!1))):n||(a.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function _(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&E(t)),P(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=c.from(t,e),e=""),r=!0),w(this,t,e,!1,r)},b.prototype.unshift=function(t){return w(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return h||(h=r(37).StringDecoder),this._readableState.decoder=new h(t),this._readableState.encoding=t,this};var A=8388608;function S(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=A?t=A:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function E(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?o.nextTick(x,t):x(t))}function x(t){d("emit readable"),t.emit("readable"),T(t)}function P(t,e){e.readingMore||(e.readingMore=!0,o.nextTick(O,t,e))}function O(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function k(t){d("readable nexttick read 0"),t.read(0)}function j(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),T(t),e.flowing&&!e.reading&&t.read(0)}function T(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function N(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,o=r.data;t-=o.length;for(;r=r.next;){var i=r.data,a=t>i.length?i.length:t;if(a===i.length?o+=i:o+=i.slice(0,t),0===(t-=a)){a===i.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=i.slice(a));break}++n}return e.length-=n,o}(t,e):function(t,e){var r=c.allocUnsafe(t),n=e.head,o=1;n.data.copy(r),t-=n.data.length;for(;n=n.next;){var i=n.data,a=t>i.length?i.length:t;if(i.copy(r,r.length-t,0,a),0===(t-=a)){a===i.length?(++o,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=i.slice(a));break}++o}return e.length-=o,r}(t,e);return n}(t,e.buffer,e.decoder),r);var r}function R(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,o.nextTick(I,e,t))}function I(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function M(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}b.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?R(this):E(this),null;if(0===(t=S(t,e))&&e.ended)return 0===e.length&&R(this),null;var n,o=e.needReadable;return d("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",o=!0),e.ended||e.reading?d("reading or ended",o=!1):o&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=S(r,e))),null===(n=t>0?N(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&R(this)),null!==n&&this.emit("data",n),n},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,d("pipe count=%d opts=%j",i.pipesCount,e);var u=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr?l:b;function c(e,n){d("onunpipe"),e===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,d("cleanup"),t.removeListener("close",v),t.removeListener("finish",m),t.removeListener("drain",f),t.removeListener("error",g),t.removeListener("unpipe",c),r.removeListener("end",l),r.removeListener("end",b),r.removeListener("data",y),p=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||f())}function l(){d("onend"),t.end()}i.endEmitted?o.nextTick(u):r.once("end",u),t.on("unpipe",c);var f=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,T(t))}}(r);t.on("drain",f);var p=!1;var h=!1;function y(e){d("ondata"),h=!1,!1!==t.write(e)||h||((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==M(i.pipes,t))&&!p&&(d("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,h=!0),r.pause())}function g(e){d("onerror",e),b(),t.removeListener("error",g),0===s(t,"error")&&t.emit("error",e)}function v(){t.removeListener("finish",m),b()}function m(){d("onfinish"),t.removeListener("close",v),b()}function b(){d("unpipe"),r.unpipe(t)}return r.on("data",y),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",g),t.once("close",v),t.once("finish",m),t.emit("pipe",r),i.flowing||(d("pipe resume"),r.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,o=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<o;i++)n[i].emit("unpipe",this,r);return this}var a=M(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},b.prototype.on=function(t,e){var r=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&E(this):o.nextTick(k,this))}return r},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,o.nextTick(j,t,e))}(this,t)),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var o in t.on("end",(function(){if(d("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(o){(d("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o)||(r.objectMode||o&&o.length)&&(e.push(o)||(n=!0,t.pause()))})),t)void 0===this[o]&&"function"==typeof t[o]&&(this[o]=function(e){return function(){return t[e].apply(t,arguments)}}(o));for(var i=0;i<v.length;i++)t.on(v[i],this.emit.bind(this,v[i]));return this._read=function(e){d("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=N}).call(this,r(5),r(3))},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){t.exports=r(13).EventEmitter},function(t,e,r){"use strict";var n=r(18);function o(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return i||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||n.nextTick(o,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(n.nextTick(o,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,r){"use strict";var n=r(75).Buffer,o=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===o||!o(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=l,this.end=f,e=3;break;default:return this.write=p,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function l(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function p(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=i,i.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},i.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},i.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var o=a(e[n]);if(o>=0)return o>0&&(t.lastNeed=o-1),o;if(--n<r||-2===o)return 0;if((o=a(e[n]))>=0)return o>0&&(t.lastNeed=o-2),o;if(--n<r||-2===o)return 0;if((o=a(e[n]))>=0)return o>0&&(2===o?o=0:t.lastNeed=o-3),o;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},i.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,r){"use strict";t.exports=a;var n=r(10),o=Object.create(r(14));function i(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);n.call(this,t),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush((function(e,r){u(t,e,r)})):u(this,null,null)}function u(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}o.inherits=r(9),o.inherits(a,n),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},a.prototype._destroy=function(t,e){var r=this;n.prototype._destroy.call(this,t,(function(t){e(t),r.emit("close")}))}},function(t,e,r){"use strict";var n=Object.prototype.toString;t.exports=function(t){var e=n.call(t),r="[object Arguments]"===e;return r||(r="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===n.call(t.callee)),r}},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=Object.prototype.toString,i=function(t){return!(n&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===o.call(t)},a=function(t){return!!i(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==o.call(t)&&"[object Function]"===o.call(t.callee)},s=function(){return i(arguments)}();i.isLegacyArguments=a,t.exports=s?i:a},function(t,e,r){"use strict";var n=r(6),o=r(29),i=r(42),a=r(43),s=r(86),u=o(a(),Object);n(u,{getPolyfill:a,implementation:i,shim:s}),t.exports=u},function(t,e,r){"use strict";var n=function(t){return t!=t};t.exports=function(t,e){return 0===t&&0===e?1/t==1/e:t===e||!(!n(t)||!n(e))}},function(t,e,r){"use strict";var n=r(42);t.exports=function(){return"function"==typeof Object.is?Object.is:n}},function(t,e,r){"use strict";var n,o,i,a,s=r(7)()&&"symbol"==typeof Symbol.toStringTag;if(s){n=Function.call.bind(Object.prototype.hasOwnProperty),o=Function.call.bind(RegExp.prototype.exec),i={};var u=function(){throw i};a={toString:u,valueOf:u},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=u)}var c=Object.prototype.toString,l=Object.getOwnPropertyDescriptor;t.exports=s?function(t){if(!t||"object"!=typeof t)return!1;var e=l(t,"lastIndex");if(!(e&&n(e,"value")))return!1;try{o(t,a)}catch(t){return t===i}}:function(t){return!(!t||"object"!=typeof t&&"function"!=typeof t)&&"[object RegExp]"===c.call(t)}},function(t,e,r){"use strict";var n=Object,o=TypeError;t.exports=function(){if(null!=this&&this!==n(this))throw new o("RegExp.prototype.flags getter called on non-object");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t}},function(t,e,r){"use strict";var n=r(45),o=r(6).supportsDescriptors,i=Object.getOwnPropertyDescriptor,a=TypeError;t.exports=function(){if(!o)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var t=i(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof/a/.dotAll)return t.get}return n}},function(t,e,r){"use strict";var n=String.prototype.valueOf,o=Object.prototype.toString,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){return"string"==typeof t||"object"==typeof t&&(i?function(t){try{return n.call(t),!0}catch(t){return!1}}(t):"[object String]"===o.call(t))}},function(t,e,r){"use strict";var n,o="function"==typeof Map&&Map.prototype?Map:null,i="function"==typeof Set&&Set.prototype?Set:null;o||(n=function(t){return!1});var a=o?Map.prototype.has:null,s=i?Set.prototype.has:null;n||a||(n=function(t){return!1}),t.exports=n||function(t){if(!t||"object"!=typeof t)return!1;try{if(a.call(t),s)try{s.call(t)}catch(t){return!0}return t instanceof o}catch(t){}return!1}},function(t,e,r){"use strict";var n,o="function"==typeof Map&&Map.prototype?Map:null,i="function"==typeof Set&&Set.prototype?Set:null;i||(n=function(t){return!1});var a=o?Map.prototype.has:null,s=i?Set.prototype.has:null;n||s||(n=function(t){return!1}),t.exports=n||function(t){if(!t||"object"!=typeof t)return!1;try{if(s.call(t),a)try{a.call(t)}catch(t){return!0}return t instanceof i}catch(t){}return!1}},function(t,e){var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString;t.exports=function(t,e,o){if("[object Function]"!==n.call(e))throw new TypeError("iterator must be a function");var i=t.length;if(i===+i)for(var a=0;a<i;a++)e.call(o,t[a],a,t);else for(var s in t)r.call(t,s)&&e.call(o,t[s],s,t)}},function(t,e,r){"use strict";(function(e){var n=r(106);t.exports=function(){return n(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],(function(t){return"function"==typeof e[t]}))}}).call(this,r(5))},function(t,e,r){"use strict";var n=r(15)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(t){n=null}t.exports=n},function(t,e,r){"use strict";var n=r(4),o=r(54),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||n.call(a,i);t.exports=function(){return s(n,a,arguments)},t.exports.apply=function(){return s(n,i,arguments)}},function(t,e,r){"use strict";var n,o=SyntaxError,i=Function,a=TypeError,s=function(t){try{return Function('"use strict"; return ('+t+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(t){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(t){try{return u(arguments,"callee").get}catch(t){return c}}}():c,f=r(7)(),p=Object.getPrototypeOf||function(t){return t.__proto__},d=s("async function* () {}"),h=d?d.prototype:n,y=h?h.prototype:n,g="undefined"==typeof Uint8Array?n:p(Uint8Array),v={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f?p([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":s("async function () {}"),"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":y?p(y):n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":s("function* () {}"),"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?p(p([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?p((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?p((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?p(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":l,"%TypedArray%":g,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=r(4),w=r(16),_=b.call(Function.call,Array.prototype.concat),A=b.call(Function.apply,Array.prototype.splice),S=b.call(Function.call,String.prototype.replace),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,x=/\\(\\)?/g,P=function(t){var e=[];return S(t,E,(function(t,r,n,o){e[e.length]=n?S(o,x,"$1"):r||t})),e},O=function(t,e){var r,n=t;if(w(m,n)&&(n="%"+(r=m[n])[0]+"%"),w(v,n)){var i=v[n];if(void 0===i&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new a('"allowMissing" argument must be a boolean');var r=P(t),n=r.length>0?r[0]:"",o=O("%"+n+"%",e),i=o.name,s=o.value,c=!1,l=o.alias;l&&(n=l[0],A(r,_([0,1],l)));for(var f=1,p=!0;f<r.length;f+=1){var d=r[f];if("constructor"!==d&&p||(c=!0),w(v,i="%"+(n+="."+d)+"%"))s=v[i];else if(null!=s){if(u&&f+1>=r.length){var h=u(s,d);if(p=!!h,!e&&!(d in s))throw new a("base intrinsic for "+t+" exists, but the property is not available.");s=p?h.get||h.value:s[d]}else p=w(s,d),s=s[d];p&&!c&&(v[i]=s)}}return s}},function(t,e,r){"use strict";var n=r(28),o=function(t){return null!=t},i=r(30)(),a=r(109),s=Object,u=a("Array.prototype.push"),c=a("Object.prototype.propertyIsEnumerable"),l=i?Object.getOwnPropertySymbols:null;t.exports=function(t,e){if(!o(t))throw new TypeError("target must be an object");var r,a,f,p,d,h,y,g=s(t);for(r=1;r<arguments.length;++r){a=s(arguments[r]),p=n(a);var v=i&&(Object.getOwnPropertySymbols||l);if(v)for(d=v(a),f=0;f<d.length;++f)y=d[f],c(a,y)&&u(p,y);for(f=0;f<p.length;++f)h=a[y=p[f]],c(a,y)&&(g[y]=h)}return g}},function(t,e,r){"use strict";var n=r(55);t.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var o=Object.assign({},r),i="";for(var a in o)i+=a;return t!==i}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}return!1}()?n:Object.assign:n}},function(t,e,r){"use strict";var n=r(4),o=r(21),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||n.call(a,i);t.exports=function(){return s(n,a,arguments)},t.exports.apply=function(){return s(n,i,arguments)}},function(t,e,r){"use strict";var n=r(113),o=r(115),i=r(116)("String.prototype.replace"),a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,s=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;t.exports=function(){var t=o(n(this));return i(i(t,a,""),s,"")}},function(t,e,r){"use strict";var n=r(58);t.exports=function(){return String.prototype.trim&&"​"==="​".trim()?String.prototype.trim:n}},,,,,function(t,e,r){"use strict";r.r(e);var n=r(2),o=r(0),i=r(8),a=r(65);function s(){return new o.a({nodes:[{id:"A"},{id:"B"},{id:"C"},{id:"D"},{id:"E"}],edges:[{from:"A",to:"B",name:"a, b"},{from:"C",to:"A",name:"CA"},{from:"C",to:"B",name:"CB"},{from:"C",to:"D",name:"CD"},{from:"E",to:"A",name:"EA"}],workflow:[]})}function u(){return new o.a({nodes:[{id:"A"},{id:"B"},{id:"C"},{id:"D"},{id:"E"}],edges:[{from:"A",to:"B",vars:{1:"a",2:"b"}},{from:"C",to:"A",vars:{1:"a",3:"c"}},{from:"C",to:"B",vars:{3:"c",2:"b"}},{from:"C",to:"D",vars:{3:"c",4:"d"}},{from:"E",to:"A",vars:{5:"e",1:"a"}}],workflow:[]})}a("Labelizer.strParse('') returns [{'base':'', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(n.a.strParse(""),[{base:"",sub:void 0,sup:void 0}]),t.end()})),a("Labelizer.strParse('+A') throws an error",(function(t){t.throws((function(){n.a.strParse("+")}),"should throw an error"),t.end()})),a("Labelizer.strParse('ConvCheck') returns [{'base':'ConvCheck', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(n.a.strParse("ConvCheck"),[{base:"ConvCheck",sub:void 0,sup:void 0}]),t.end()})),a("Labelizer.strParse('x') returns [{'base':'x', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(n.a.strParse("x"),[{base:"x",sub:void 0,sup:void 0}]),t.end()})),a("Labelizer.strParse('&#x03BB') returns [{'base':'&#x03BB', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(n.a.strParse("&#x03BB"),[{base:"&#x03BB",sub:void 0,sup:void 0}]),t.end()})),a("Labelizer.strParse('&#x03BB_&#x03BB^&#x03BB') returns [{'base':'&#x03BB', 'sub':'&#x03BB', 'sup':'&#x03BB'}]",(function(t){t.deepEqual(n.a.strParse("&#x03BB_&#x03BB^&#x03BB"),[{base:"&#x03BB",sub:"&#x03BB",sup:"&#x03BB"}]),t.end()})),a("Labelizer.strParse('Optimization') returns [{'base':'Optimization', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(n.a.strParse("Optimization"),[{base:"Optimization",sub:void 0,sup:void 0}]),t.end()})),a("Labelizer.strParse('x_12') returns [{'base':'x', 'sub': '12', 'sup':undefined}]",(function(t){t.deepEqual(n.a.strParse("x_12"),[{base:"x",sub:"12",sup:void 0}]),t.end()})),a("Labelizer.strParse('x_13^{(0)}') returns [{'base':'x', 'sub': '13', 'sup': '{(0)}'}]",(function(t){t.deepEqual(n.a.strParse("x_13^{(0)}"),[{base:"x",sub:"13",sup:"{(0)}"}]),t.end()})),a("Labelizer.strParse('x_13^0, y_1^{*}') returns [{'base': 'x', 'sub': '13', 'sup': '{*}'}, {'base':'y', 'sub': '1', 'sup': '*'}]",(function(t){t.deepEqual(n.a.strParse("x_13^{(0)}, y_1^{*}"),[{base:"x",sub:"13",sup:"{(0)}"},{base:"y",sub:"1",sup:"{*}"}]),t.end()})),a("Labelizer.strParse('1:Opt') returns [{'base':'1:Opt', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(n.a.strParse("1:Opt"),[{base:"1:Opt",sub:void 0,sup:void 0}]),t.end()})),a("Labelizer.strParse('1:L-BFGS-B') returns [{'base':'1:L-BFGS-B', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(n.a.strParse("1:L-BFGS-B"),[{base:"1:L-BFGS-B",sub:void 0,sup:void 0}]),t.end()})),a("Labelizer.strParse('y_12_y_34') returns [{'base':'y_12_y_34', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(n.a.strParse("y_12_y_34"),[{base:"y_12_y_34",sub:void 0,sup:void 0}]),t.end()})),a("Labelizer.strParse('y_12_y_34^*') returns [{'base':'y_12_y_34', 'sub':undefined, 'sup':'*'}]",(function(t){t.deepEqual(n.a.strParse("y_12_y_34^*"),[{base:"y_12_y_34",sub:void 0,sup:"*"}]),t.end()})),a("Graph.expand(['a']) returns [['a']]",(function(t){t.deepEqual(o.a.expand(["a"]),[["a"]]),t.end()})),a("Graph.expand([['a']]) returns [['a']]",(function(t){t.deepEqual(o.a.expand([["a"]]),[["a"]]),t.end()})),a("Graph.expand(['a', 'b']) returns [['a', 'b']]",(function(t){t.deepEqual(o.a.expand(["a","b"]),[["a","b"]]),t.end()})),a("Graph.expand([['a', 'b']]) returns [['a', 'b']]",(function(t){t.deepEqual(o.a.expand([["a","b"]]),[["a","b"]]),t.end()})),a("Graph.expand(['a', ['b']]) returns [['a', 'b', 'a']]",(function(t){t.deepEqual(o.a.expand(["a",["b"]]),[["a","b","a"]]),t.end()})),a("Graph.expand([['a'], 'b']) returns ['a', 'b']",(function(t){t.deepEqual(o.a.expand([["a"],"b"]),[["a","b"]]),t.end()})),a("Graph.expand([['a'], 'b', 'c']) returns ['a', 'b', 'c']",(function(t){t.deepEqual(o.a.expand([["a"],"b","c"]),[["a","b","c"]]),t.end()})),a("Graph.expand(['a', ['b'], 'c']) returns [['a', 'b', 'a', 'c']]",(function(t){t.deepEqual(o.a.expand(["a",["b"],"c"]),[["a","b","a","c"]]),t.end()})),a("Graph.expand(['a', [['b']], 'c']) returns [['a', 'b', 'a', 'c']]",(function(t){t.deepEqual(o.a.expand(["a",[["b"]],"c"]),[["a","b","a","c"]]),t.end()})),a("Graph.expand(['a', [['b', [d]]], 'c']) returns [['a', 'b', 'd', 'b', 'a', 'c']]",(function(t){t.deepEqual(o.a.expand(["a",[["b",["d"]]],"c"]),[["a","b","d","b","a","c"]]),t.end()})),a("Graph.expand(['a', ['b1', 'b2'], 'c']) returns [['a', 'b1', 'b2', 'a', 'c']]",(function(t){t.deepEqual(o.a.expand(["a",["b1","b2"],"c"]),[["a","b1","b2","a","c"]]),t.end()})),a("Graph.expand(['a0', ['b1', 'b2', 'b3'], 'c3']) returns [['a0', 'b1', 'b2', 'b3', 'a0', 'c3']]",(function(t){t.deepEqual(o.a.expand(["a0",["b1","b2","b3"],"c3"]),[["a0","b1","b2","b3","a0","c3"]]),t.end()})),a("Graph.expand(['opt', ['mda', ['d1', 'd2', 'd3'],'func']]) returns [['opt', 'mda', 'd1', 'd2', 'd3', 'mda','func', 'opt']]",(function(t){t.deepEqual(o.a.expand(["opt",["mda",["d1","d2","d3"],"func"]]),[["opt","mda","d1","d2","d3","mda","func","opt"]]),t.end()})),a("Graph.expand([{parallel: ['d1', 'd2']}]) returns [[d1], [d2]]",(function(t){t.deepEqual(o.a.expand([{parallel:["d1","d2"]}]),[["d1"],["d2"]]),t.end()})),a("Graph.expand([{parallel: ['d1', 'd2']}]) returns [[d1], [d2]]",(function(t){t.deepEqual(o.a.expand([{parallel:["d1","d2"]}]),[["d1"],["d2"]]),t.end()})),a("Graph.expand(['opt', {parallel: ['d1', 'd2', 'd3']}]) returns [['opt', 'd1'], ['opt', 'd2'], ['opt', 'd3']]",(function(t){t.deepEqual(o.a.expand(["opt",{parallel:["d1","d2","d3"]}]),[["opt","d1"],["opt","d2"],["opt","d3"]]),t.end()})),a("Graph.expand(['opt', [{parallel: ['d1', 'd2', 'd3']}]]) returns [['opt', 'd1', 'opt'], ['opt', 'd2', 'opt'], ['opt', 'd3', 'opt']]",(function(t){t.deepEqual(o.a.expand(["opt",[{parallel:["d1","d2","d3"]}]]),[["opt","d1","opt"],["opt","d2","opt"],["opt","d3","opt"]]),t.end()})),a("Graph.expand(['mda', {parallel: ['d1', 'd2', 'd3']}, 'd4']) returns [['mda', 'd1', 'd4'], ['mda', 'd2', 'd4'], ['mda', 'd3', 'd4']]",(function(t){t.deepEqual(o.a.expand(["mda",{parallel:["d1","d2","d3"]},"d4"]),[["mda","d1","d4"],["mda","d2","d4"],["mda","d3","d4"]]),t.end()})),a("Graph.expand(['opt', 'mda', {parallel: ['d1', 'd2', 'd3']}, 'd4']]) returns [['opt', 'mda'], ['mda', 'd1', 'd4'], ['mda', 'd2', 'd4'], ['mda', 'd3', 'd4']]",(function(t){t.deepEqual(o.a.expand(["opt","mda",{parallel:["d1","d2","d3"]},"d4"]),[["opt","mda"],["mda","d1","d4"],["mda","d2","d4"],["mda","d3","d4"]]),t.end()})),a("Graph.expand(['opt', ['mda', {parallel: ['d1', 'd2', 'd3']}, 'd4']]) returns [['opt', 'mda'], ['mda', 'd1', 'd4'], ['mda', 'd2', 'd4'], ['mda', 'd3', 'd4'], ['d4', 'opt']]",(function(t){t.deepEqual(o.a.expand(["opt",["mda",{parallel:["d1","d2","d3"]},"d4"]]),[["opt","mda"],["mda","d1","d4"],["mda","d2","d4"],["mda","d3","d4"],["d4","opt"]]),t.end()})),a("Graph.expand((['_U_', ['opt', ['mda', {parallel: ['d1', 'd2', 'd3']}, 'd4']]]) returns [['_U_', 'opt', 'mda'], ['mda', 'd1', 'd4'], ['mda', 'd2', 'd4'], ['mda', 'd3', 'd4'], ['d4', 'opt', '_U_']]",(function(t){t.deepEqual(o.a.expand(["_U_",["opt",["mda",{parallel:["d1","d2","d3"]},"d4"]]]),[["_U_","opt","mda"],["mda","d1","d4"],["mda","d2","d4"],["mda","d3","d4"],["d4","opt","_U_"]]),t.end()})),a("Graph.expand((['_U_', ['opt', ['mda', ['d1', 'd2']]]]) returns [['_U_', 'opt', 'mda', 'd1', 'd2', 'mda', 'opt', '_U_']]",(function(t){t.deepEqual(o.a.expand(["_U_",["opt",["mda",["d1","d2"]]]]),[["_U_","opt","mda","d1","d2","mda","opt","_U_"]]),t.end()})),a("Graph.expand((['_U_', ['opt', ['mda', ['d1', 'd2'], 'mda', ['d1', 'd2']]]]) returns [['_U_', 'opt', 'mda', 'd1', 'd2', 'mda', 'mda', 'd1', 'd2', 'mda', 'opt', '_U_']]",(function(t){t.deepEqual(o.a.expand(["_U_",["opt",["mda",["d1","d2"],"mda",["d1","d2"]]]]),[["_U_","opt","mda","d1","d2","mda","mda","d1","d2","mda","opt","_U_"]]),t.end()})),a("Graph.expand((['_U_', ['opt', ['mda', ['d1', 'd2'], {parallel: ['sc1', 'sc2']},'mda', ['d1', 'd2']]]]) returns [['_U_', 'opt', 'mda', 'd1', 'd2', 'mda'], ['mda', 'sc1', 'mda'], ['mda', 'sc2', 'mda'], ['mda', 'd1', 'd2', 'mda', 'opt', '_U_']]",(function(t){t.deepEqual(o.a.expand(["_U_",["opt",["mda",["d1","d2"],{parallel:["sc1","sc2"]},"mda",["d1","d2"]]]]),[["_U_","opt","mda","d1","d2","mda"],["mda","sc1","mda"],["mda","sc2","mda"],["mda","d1","d2","mda","opt","_U_"]]),t.end()})),a("Graph.expand((['d1', {parallel: ['sc1', 'sc2']}, 'd2']) returns [['d1', 'sc1', 'd2'], ['d1', 'sc2', 'd2']]",(function(t){t.deepEqual(o.a.expand(["d1",{parallel:["sc1","sc2"]},"d2"]),[["d1","sc1","d2"],["d1","sc2","d2"]]),t.end()})),a("Graph.expand((['opt', ['d1', {parallel: ['sc1', 'sc2']}]]) returns [['opt', 'd1'] ['d1', 'sc1', 'opt'], ['d1', 'sc2', 'opt']]",(function(t){t.deepEqual(o.a.expand(["opt",["d1",{parallel:["sc1","sc2"]}]]),[["opt","d1"],["d1","sc1","opt"],["d1","sc2","opt"],["opt","opt"]]),t.end()})),a("Graph.chains should expand as list of index couples",(function(t){var e=new o.a({nodes:[{id:"Opt",name:"Opt"},{id:"MDA",name:"MDA"},{id:"DA1",name:"DA1"},{id:"DA2",name:"DA2"},{id:"DA3",name:"DA3"},{id:"Func",name:"Func"}],edges:[],workflow:["Opt",["MDA",["DA1","DA2","DA3"],"Func"]]});t.deepEqual(e.chains,[[[1,2],[2,3],[3,4],[4,5],[5,2],[2,6],[6,1]]]),t.end()})),a("Graph.chains should expand as list of index couples",(function(t){var e=new o.a({nodes:[{id:"Opt",name:"Opt"},{id:"DA1",name:"DA1"},{id:"DA2",name:"DA2"},{id:"DA3",name:"DA3"},{id:"Func",name:"Func"}],edges:[],workflow:[["Opt",["DA1"],"Opt",["DA2"],"Opt",["DA3"],"Func"]]});t.deepEqual(e.chains,[[[1,2],[2,1],[1,3],[3,1],[1,4],[4,1],[1,5]]]),t.end()})),a("Graph.number(['d1']) returns {'toNum':{d1: '0'}, 'toNodes':[['d1']])",(function(t){t.deepEqual(o.a.number(["d1"]),{toNum:{d1:"0"},toNode:[["d1"]]}),t.equal(o.a.number(["d1"]).toNode.length,1),t.end()})),a("Graph.number(['d1', 'd1']) returns {'toNum':{d1: '0,1'}, 'toNodes':[['d1'],['d1']]})",(function(t){t.deepEqual(o.a.number(["d1","d1"]),{toNum:{d1:"0,1"},toNode:[["d1"],["d1"]]}),t.end()})),a("Graph.number(['mda', 'd1']) returns {'toNum':{mda:'0', d1: '1'}, 'toNode':[['mda'], ['d1']]})",(function(t){t.deepEqual(o.a.number(["mda","d1"]),{toNum:{mda:"0",d1:"1"},toNode:[["mda"],["d1"]]}),t.end()})),a("Graph.number(['mda', 'd1', 'd2', 'd3']) returns {mda: '0', d1: '1', d2: '2', d3: '3'})",(function(t){t.deepEqual(o.a.number(["mda","d1","d2","d3"]).toNum,{mda:"0",d1:"1",d2:"2",d3:"3"}),t.end()})),a("Graph.number(['mda', ['d1', 'd2', 'd3']]) returns {mda: '0,4-1', d1: '1', d2: '2', d3: '3'} )",(function(t){t.deepEqual(o.a.number(["mda",["d1","d2","d3"]]).toNum,{mda:"0,4-1",d1:"1",d2:"2",d3:"3"}),t.end()})),a("Graph.number(['mda', {parallel:['d1', 'd2', 'd3']}]) returns {'mda': '0', 'd1': '1', 'd2': '1', 'd3': '1'})",(function(t){t.deepEqual(o.a.number(["mda",{parallel:["d1","d2","d3"]}]).toNum,{mda:"0",d1:"1",d2:"1",d3:"1"}),t.end()})),a("Graph.number(['mda', [{parallel:['d1', 'd2', 'd3']}]]) returns {'toNum':{'mda': '0,2-1', 'd1': '1', 'd2': '1', 'd3': '1'}, 'toNode':[['mda'], ['d1','d2','d3']]})",(function(t){t.deepEqual(o.a.number(["mda",[{parallel:["d1","d2","d3"]}]]).toNum,{mda:"0,2-1",d1:"1",d2:"1",d3:"1"}),t.deepEqual(o.a.number(["mda",[{parallel:["d1","d2","d3"]}]]).toNode,[["mda"],["d1","d2","d3"],["mda"]]),t.end()})),a("Graph.number(['opt', 'mda', ['d1', 'd2', 'd3']]) returns {'opt': '0', 'mda': '1,5-2', 'd1': '2', 'd2': '3', 'd3': '4'})",(function(t){t.deepEqual(o.a.number(["opt","mda",["d1","d2","d3"]]).toNum,{opt:"0",mda:"1,5-2",d1:"2",d2:"3",d3:"4"}),t.end()})),a("Graph.number([['opt', ['mda', ['d1', 'd2', 'd3']]], 'd4']) returns {'opt': '0,6-1', 'mda': '1,5-2', 'd1': '2', 'd2': '3', 'd3': '4', 'd4': '7'})",(function(t){t.deepEqual(o.a.number([["opt",["mda",["d1","d2","d3"]]],"d4"]).toNum,{opt:"0,6-1",mda:"1,5-2",d1:"2",d2:"3",d3:"4",d4:"7"}),t.end()})),a("Graph.number([['Opt', ['mda', ['d1'], 's1']]]) returns {'Opt': '0,5-1', 'mda': '1,3-2', 'd1': '2', 's1': '4'})",(function(t){t.deepEqual(o.a.number([["Opt",["mda",["d1"],"s1"]]]).toNum,{Opt:"0,5-1",mda:"1,3-2",d1:"2",s1:"4"}),t.end()})),a("Graph.findEdgesOf(nodeIdx) returns edges to remove and edges to delete in case of node removal",(function(t){var e=s();t.deepEqual(e.findEdgesOf(1),{toRemove:[e.edges[0],e.edges[1],e.edges[4]],toShift:[e.edges[2],e.edges[3]]}),t.deepEqual(e.findEdgesOf(3),{toRemove:[e.edges[1],e.edges[2],e.edges[3]],toShift:[e.edges[4]]}),t.deepEqual(e.findEdgesOf(4),{toRemove:[e.edges[3]],toShift:[e.edges[4]]}),t.end()})),a("Graph.addNode()",(function(t){var e=s();t.equal(e.nodes.length,6),e.addNode({id:"F",name:"F",kind:"function"}),t.equal(e.nodes.length,7),t.end()})),a("Graph.removeNode()",(function(t){var e=s();t.equal(e.nodes.length,6),e.removeNode(4),t.equal(e.nodes.length,5),t.end()})),a("Graph.getNode()",(function(t){var e=s();t.equal(e.getNode("A"),e.nodes[1]),t.equal(e.getNode("E"),e.nodes[5]),t.end()})),a("Graph.idxOf()",(function(t){var e=s();t.equal(e.idxOf("B"),2),t.equal(e.idxOf("E"),5),t.end()})),a("Graph constructor should create a graph without edges or workflow input data)",(function(t){var e=new o.a({nodes:[{id:"A"},{id:"B"}]});t.deepEqual(e.edges,[]),t.deepEqual(e.chains,[]),t.end()})),a("Graph nodes have a status UNKNOWN by default",(function(t){var e=new o.a({nodes:[{id:"A"},{id:"B"}]});t.deepEqual(e.getNode("A").status,o.a.NODE_STATUS.UNKNOWN),t.end()})),a("Graph nodes can be to a given status PENDING, RUNNING, DONE or FAILED",(function(t){var e=new o.a({nodes:[{id:"A",status:"PENDING"},{id:"B",status:"RUNNING"},{id:"C",status:"DONE"},{id:"D",status:"FAILED"}]});t.deepEqual(e.getNode("A").status,o.a.NODE_STATUS.PENDING),t.deepEqual(e.getNode("B").status,o.a.NODE_STATUS.RUNNING),t.deepEqual(e.getNode("C").status,o.a.NODE_STATUS.DONE),t.deepEqual(e.getNode("D").status,o.a.NODE_STATUS.FAILED),t.end()})),a("Graph throws an error if a node status string not known",(function(t){t.throws((function(){new o.a({nodes:[{id:"A",status:"BADSTATUS"}]})}),"should throw an error"),t.end()})),a("Graph edge can have vars infos id/names from name",(function(t){var e=s().findEdge("A","B");t.deepEqual(e.element.vars,{0:"a",1:"b"}),t.end()})),a("Graph edge can have vars infos id/names",(function(t){var e=u();t.equal(e.getNode("E"),e.nodes[5]);var r=e.findEdge("C","D").element;t.equal(r.vars[3],"c"),t.equal(r.vars[4],"d"),t.deepEqual(r.vars,{3:"c",4:"d"}),t.equal(r.name,"c, d"),t.end()})),a("Graph add new var between two given nodes not linked",(function(t){var e=u();e.addEdgeVar("A","D",{4:"d"});var r=e.findEdge("A","D").element;t.equal(r.vars[4],"d"),t.deepEqual(r.vars,{4:"d"}),t.equal(r.name,"d"),t.end()})),a("Graph a var should appear once even if added twice",(function(t){var e=u();e.addEdgeVar("A","D",{4:"d"}),e.addEdgeVar("A","D",{4:"d"});var r=e.findEdge("A","D").element;t.equal(r.name,"d"),e.removeEdge("A","D");e.findEdge("A","D").index;t.equal(r.index,void 0),t.end()})),a("Graph add new var between two given nodes already linked",(function(t){var e=u();e.addEdgeVar("A","B",{4:"d"});var r=e.findEdge("A","B").element;t.deepEqual(r.vars,{1:"a",2:"b",4:"d"}),t.equal(r.name,"a, b, d"),t.end()})),a("Remove var of an edge",(function(t){var e=u().findEdge("A","B").element;e.removeVar("b"),t.equal(e.name,"a"),t.end()})),a("Remove edge between two given nodes",(function(t){var e=u(),r=e.findEdge("E","A").element;t.notEqual(r,void 0),e.removeEdge("E","A"),r=e.findEdge("E","A").element,t.equal(r,void 0),t.end()})),a("Remove edge one var between two given nodes",(function(t){var e=u(),r=e.findEdge("E","A").element;t.notEqual(r,void 0),e.removeEdgeVar("E","A","e"),r=e.findEdge("E","A").element,t.deepEqual(r.vars,{1:"a"}),t.end()})),a("Remove edge all vars between two given nodes",(function(t){var e=u(),r=e.findEdge("E","A").element;t.notEqual(r,void 0),e.removeEdgeVar("E","A","e"),e.removeEdgeVar("E","A","a"),r=e.findEdge("E","A").element,t.equal(r,void 0),t.end()})),a("find XDSMs order list",(function(t){t.deepEqual(i.a._orderedList({C:{nodes:[]},B:{nodes:[]},root:{nodes:[{name:"a",subxdsm:"A"}]},A:{nodes:[{name:"c",subxdsm:"C"},{name:"b",subxdsm:"B"}]}},"root"),["root","A","C","B"]),t.end()})),a("find XDSMs list of single",(function(t){t.deepEqual(i.a._orderedList({root:{nodes:[{name:"a",subxdsm:"A"}]},A:{nodes:[{name:"c"},{name:"b"}]}}),["root","A"]),t.end()})),a("find XDSMs list of empty xdsms",(function(t){t.deepEqual(i.a._orderedList({root:{nodes:[]}}),["root"]),t.end()}))},function(t,e,r){"use strict";(function(n){var o=r(23),i=r(66),a=r(82),s=r(120),u=r(17),c=void 0!==n&&n&&"function"==typeof n.on&&!0!==n.browser,l=void 0!==n&&n&&"function"==typeof n.exit;function f(t){t||(t={});var e=s();!1!==t.autoclose&&e.once("done",(function(){e.close()}));var r=function(t,n,o){var i=new a(t,n,o);return r._tests.push(i),function t(e){e.on("test",(function(e){t(e)})),e.on("result",(function(t){t.todo||t.ok||"string"==typeof t||(r._exitCode=1)}))}(i),e.push(i),i};r._results=e,r._tests=[],r.createStream=function(t){return e.createStream(t)},r.onFinish=function(t){e.on("done",t)},r.onFailure=function(t){e.on("fail",t)};var n=!1;return r.only=function(){if(n)throw new Error("there can only be one only test");n=!0;var t=r.apply(null,arguments);return e.only(t),t},r._exitCode=0,r.close=function(){e.close()},r}(e=t.exports=function(){var t,e=function(){return r().apply(this,arguments)};return e.only=function(){return r().only.apply(this,arguments)},e.createStream=function(e){if(e||(e={}),!t){var n=u();return r({stream:n,objectMode:e.objectMode}),n}return t.createStream(e)},e.onFinish=function(){return r().onFinish.apply(this,arguments)},e.onFailure=function(){return r().onFailure.apply(this,arguments)},e.getHarness=r,e;function r(e){return e||(e={}),e.autoclose=!c,t||(t=function(t){t||(t={});var e=f({autoclose:o(t.autoclose,!1)}),r=e.createStream({objectMode:t.objectMode}),a=r.pipe(t.stream||i());c&&a.on("error",(function(t){e._exitCode=1}));var s=!1;return r.on("end",(function(){s=!0})),!1===t.exit?e:c&&l?(n.on("exit",(function(t){if(0===t){if(!s)for(var r=e._results._only,o=0;o<e._tests.length;o++){var i=e._tests[o];r&&i!==r||i._exit()}e.close(),n.exit(t||e._exitCode)}})),e):e}(e)),t}}()).createHarness=f,e.Test=a,e.test=e,e.test.skip=a.skip}).call(this,r(3))},function(t,e,r){"use strict";(function(e){var n=r(17),o=r(81);t.exports=function(){var t="",r=n((function(e){for(var r=0;r<e.length;r++){var n="string"==typeof e?e.charAt(r):String.fromCharCode(e[r]);"\n"===n?i():t+=n}}),i);return r;function i(){if(o.writeSync&&/^win/.test(e.platform))try{o.writeSync(1,t+"\n")}catch(t){r.emit("error",t)}else try{console.log(t)}catch(t){r.emit("error",t)}t=""}}}).call(this,r(3))},function(t,e,r){t.exports=o;var n=r(13).EventEmitter;function o(){n.call(this)}r(9)(o,n),o.Readable=r(24),o.Writable=r(77),o.Duplex=r(78),o.Transform=r(79),o.PassThrough=r(80),o.Stream=o,o.prototype.pipe=function(t,e){var r=this;function o(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",o),t.on("drain",i),t._isStdio||e&&!1===e.end||(r.on("end",s),r.on("close",u));var a=!1;function s(){a||(a=!0,t.end())}function u(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(l(),0===n.listenerCount(this,"error"))throw t}function l(){r.removeListener("data",o),t.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),t.removeListener("close",l)}return r.on("error",c),t.on("error",c),r.on("end",l),r.on("close",l),t.on("close",l),t.emit("pipe",r),t}},function(t,e,r){"use strict";e.byteLength=function(t){var e=c(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,n=c(t),a=n[0],s=n[1],u=new i(function(t,e,r){return 3*(e+r)/4-r}(0,a,s)),l=0,f=s>0?a-4:a;for(r=0;r<f;r+=4)e=o[t.charCodeAt(r)]<<18|o[t.charCodeAt(r+1)]<<12|o[t.charCodeAt(r+2)]<<6|o[t.charCodeAt(r+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===s&&(e=o[t.charCodeAt(r)]<<2|o[t.charCodeAt(r+1)]>>4,u[l++]=255&e);1===s&&(e=o[t.charCodeAt(r)]<<10|o[t.charCodeAt(r+1)]<<4|o[t.charCodeAt(r+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,r=t.length,o=r%3,i=[],a=16383,s=0,u=r-o;s<u;s+=a)i.push(l(t,s,s+a>u?u:s+a));1===o?(e=t[r-1],i.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[r-2]<<8)+t[r-1],i.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],o[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function l(t,e,r){for(var o,i,a=[],s=e;s<r;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,o){var i,a,s=8*o-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?o-1:0,p=r?-1:1,d=t[e+f];for(f+=p,i=d&(1<<-l)-1,d>>=-l,l+=s;l>0;i=256*i+t[e+f],f+=p,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=n;l>0;a=256*a+t[e+f],f+=p,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),i-=c}return(d?-1:1)*a*Math.pow(2,i-n)},e.write=function(t,e,r,n,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,h=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[r+d]=255&s,d+=h,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[r+d]=255&a,d+=h,a/=256,c-=8);t[r+d-h]|=128*y}},function(t,e){},function(t,e,r){"use strict";var n=r(25).Buffer,o=r(72);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e,r,o,i=n.allocUnsafe(t>>>0),a=this.head,s=0;a;)e=a.data,r=i,o=s,e.copy(r,o),s+=a.data.length,a=a.next;return i},t}(),o&&o.inspect&&o.inspect.custom&&(t.exports.prototype[o.inspect.custom]=function(){var t=o.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var n,o,i,a,s,u=1,c={},l=!1,f=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick((function(){h(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){h(t.data)},n=function(t){i.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,n=function(t){var e=f.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):n=function(t){setTimeout(h,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&h(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),n=function(e){t.postMessage(a+e,"*")}),p.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var o={callback:t,args:e};return c[u]=o,n(u),u++},p.clearImmediate=d}function d(t){delete c[t]}function h(t){if(l)setTimeout(h,0,t);else{var e=c[t];if(e){l=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(void 0,r)}}(e)}finally{d(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r(5),r(3))},function(t,e,r){(function(e){function r(t){try{if(!e.localStorage)return!1}catch(t){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(t,e){if(r("noDeprecation"))return t;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}}).call(this,r(5))},function(t,e,r){var n=r(26),o=n.Buffer;function i(t,e){for(var r in t)e[r]=t[r]}function a(t,e,r){return o(t,e,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=a),a.prototype=Object.create(o.prototype),i(o,a),a.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,r)},a.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=o(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},function(t,e,r){"use strict";t.exports=i;var n=r(38),o=Object.create(r(14));function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}o.inherits=r(9),o.inherits(i,n),i.prototype._transform=function(t,e,r){r(null,t)}},function(t,e,r){t.exports=r(27)},function(t,e,r){t.exports=r(10)},function(t,e,r){t.exports=r(24).Transform},function(t,e,r){t.exports=r(24).PassThrough},function(t,e){},function(t,e,r){"use strict";(function(e,n,o){var i=r(83),a=r(23),s=r(111),u=r(9),c=r(13).EventEmitter,l=r(16),f=r(44),p=r(112),d=r(4),h=r(118),y=r(32),g=r(41),v=d.call(Function.call,Object.prototype.propertyIsEnumerable),m=d.call(Function.call,String.prototype.toLowerCase),b=d.call(Function.call,Object.prototype.isPrototypeOf),w=d.call(Function.call,RegExp.prototype.test);t.exports=x;var _=void 0!==e?e:n.nextTick,A=setTimeout,S=clearTimeout;u(x,c);var E=function(t,e,r){for(var n,o="(anonymous)",i={},a=0;a<arguments.length;a++){var s=arguments[a],u=typeof s;"string"===u?o=s:"object"===u?i=s||i:"function"===u&&(n=s)}return{name:o,opts:i,cb:n}};function x(t,e,r){if(!(this instanceof x))return new x(t,e,r);var o=E(t,e,r);this.readable=!0,this.name=o.name||"(anonymous)",this.assertCount=0,this.pendingCount=0,this._skip=o.opts.skip||!1,this._todo=o.opts.todo||!1,this._timeout=o.opts.timeout,this._plan=void 0,this._cb=o.cb,this._progeny=[],this._ok=!0;var i=n.env.NODE_TAPE_OBJECT_PRINT_DEPTH;for(var a in o.opts.objectPrintDepth?this._objectPrintDepth=o.opts.objectPrintDepth:i?"infinity"===m(i)?this._objectPrintDepth=1/0:this._objectPrintDepth=i:this._objectPrintDepth=5,this)this[a]=function(t,e){return"function"==typeof e?function(){return e.apply(t,arguments)}:e}(this,this[a])}x.prototype.run=function(){if(this.emit("prerun"),!this._cb||this._skip)return this._end();null!=this._timeout&&this.timeoutAfter(this._timeout);var t=this._cb(this);if("function"==typeof Promise&&t&&"function"==typeof t.then){var e=this;Promise.resolve(t).then((function(){e.calledEnd||e.end()})).catch((function(t){e.fail(t),e.end()}))}else this.emit("run")},x.prototype.test=function(t,e,r){var n=this,o=new x(t,e,r);this._progeny.push(o),this.pendingCount++,this.emit("test",o),o.on("prerun",(function(){n.assertCount++})),n._pendingAsserts()||_((function(){n._end()})),_((function(){n._plan||n.pendingCount!=n._progeny.length||n._end()}))},x.prototype.comment=function(t){var e=this;h(p(t).split("\n"),(function(t){e.emit("result",p(t).replace(/^#\s*/,""))}))},x.prototype.plan=function(t){this._plan=t,this.emit("plan",t)},x.prototype.timeoutAfter=function(t){if(!t)throw new Error("timeoutAfter requires a timespan");var e=this,r=A((function(){e.fail("test timed out after "+t+"ms"),e.end()}),t);this.once("end",(function(){S(r)}))},x.prototype.end=function(t){arguments.length>=1&&t&&this.ifError(t),this.calledEnd&&this.fail(".end() already called"),this.calledEnd=!0,this._end()},x.prototype._end=function(t){var e=this;if(this._cb||this._todo||this._skip||this.fail("# TODO "+this.name),this._progeny.length){var r=this._progeny.shift();return r.on("end",(function(){e._end()})),void r.run()}this.ended||this.emit("end");var n=this._pendingAsserts();!this._planError&&void 0!==this._plan&&n&&(this._planError=!0,this.fail("plan != count",{expected:this._plan,actual:this.assertCount})),this.ended=!0},x.prototype._exit=function(){void 0===this._plan||this._planError||this.assertCount===this._plan?this.ended||this.fail("test exited without ending: "+this.name,{exiting:!0}):(this._planError=!0,this.fail("plan != count",{expected:this._plan,actual:this.assertCount,exiting:!0}))},x.prototype._pendingAsserts=function(){return void 0===this._plan?1:this._plan-(this._progeny.length+this.assertCount)},x.prototype._assert=function(t,e){var r=this,i=e.extra||{};t=!!t||!!i.skip;var u=a(i.message,e.message,"(unnamed assert)");if(this.calledEnd&&"fail"!==e.operator)this.fail(".end() already called: "+u);else{var c={id:r.assertCount++,ok:t,skip:a(i.skip,e.skip),todo:a(i.todo,e.todo,r._todo),name:u,operator:a(i.operator,e.operator),objectPrintDepth:r._objectPrintDepth};if((l(e,"actual")||l(i,"actual"))&&(c.actual=a(i.actual,e.actual)),(l(e,"expected")||l(i,"expected"))&&(c.expected=a(i.expected,e.expected)),this._ok=!(!this._ok||!t),t||c.todo||(c.error=a(i.error,e.error,new Error(c.name))),!t)for(var f=(new Error("exception").stack||"").split("\n"),p=o+s.sep,d=0;d<f.length;d++){var h=f[d].replace(n.cwd(),"/$CWD").replace(o,"/$TEST"),y=/^(?:[^\s]*\s*\bat\s+)(?:(.*)\s+\()?((?:\/|[a-zA-Z]:\\)[^:\)]+:(\d+)(?::(\d+))?)\)?$/.exec(h);if(y){var g=y[1]||"<anonymous>",v=y[2].replace("/$CWD",n.cwd()).replace("/$TEST",o);if(v.slice(0,p.length)!==p){c.functionName=g.split(/\s+/)[0],c.file=v,c.line=Number(y[3]),y[4]&&(c.column=Number(y[4])),c.at=g+" ("+v+")";break}}}r.emit("result",c);var m=r._pendingAsserts();m||(i.exiting?r._end():_((function(){r._end()}))),!r._planError&&m<0&&(r._planError=!0,r.fail("plan != count",{expected:r._plan,actual:r._plan-m}))}},x.prototype.fail=function(t,e){this._assert(!1,{message:t,operator:"fail",extra:e})},x.prototype.pass=function(t,e){this._assert(!0,{message:t,operator:"pass",extra:e})},x.prototype.skip=function(t,e){this._assert(!0,{message:t,operator:"skip",skip:!0,extra:e})},x.prototype.ok=x.prototype.true=x.prototype.assert=function(t,e,r){this._assert(t,{message:a(e,"should be truthy"),operator:"ok",expected:!0,actual:t,extra:r})},x.prototype.notOk=x.prototype.false=x.prototype.notok=function(t,e,r){this._assert(!t,{message:a(e,"should be falsy"),operator:"notOk",expected:!1,actual:t,extra:r})},x.prototype.error=x.prototype.ifError=x.prototype.ifErr=x.prototype.iferror=function(t,e,r){this._assert(!t,{message:a(e,String(t)),operator:"error",error:t,extra:r})},x.prototype.equal=x.prototype.equals=x.prototype.isEqual=x.prototype.strictEqual=x.prototype.strictEquals=x.prototype.is=function(t,e,r,n){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(g(t,e),{message:a(r,"should be strictly equal"),operator:"equal",actual:t,expected:e,extra:n})},x.prototype.notEqual=x.prototype.notEquals=x.prototype.isNotEqual=x.prototype.doesNotEqual=x.prototype.isInequal=x.prototype.notStrictEqual=x.prototype.notStrictEquals=x.prototype.isNot=x.prototype.not=function(t,e,r,n){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(!g(t,e),{message:a(r,"should not be strictly equal"),operator:"notEqual",actual:t,expected:e,extra:n})},x.prototype.looseEqual=x.prototype.looseEquals=function(t,e,r,n){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(t==e,{message:a(r,"should be loosely equal"),operator:"looseEqual",actual:t,expected:e,extra:n})},x.prototype.notLooseEqual=x.prototype.notLooseEquals=function(t,e,r,n){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(t!=e,{message:a(r,"should not be loosely equal"),operator:"notLooseEqual",actual:t,expected:e,extra:n})},x.prototype.deepEqual=x.prototype.deepEquals=x.prototype.isEquivalent=x.prototype.same=function(t,e,r,n){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(i(t,e,{strict:!0}),{message:a(r,"should be deeply equivalent"),operator:"deepEqual",actual:t,expected:e,extra:n})},x.prototype.notDeepEqual=x.prototype.notDeepEquals=x.prototype.notEquivalent=x.prototype.notDeeply=x.prototype.notSame=x.prototype.isNotDeepEqual=x.prototype.isNotDeeply=x.prototype.isNotEquivalent=x.prototype.isInequivalent=function(t,e,r,n){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(!i(t,e,{strict:!0}),{message:a(r,"should not be deeply equivalent"),operator:"notDeepEqual",actual:t,expected:e,extra:n})},x.prototype.deepLooseEqual=function(t,e,r,n){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(i(t,e),{message:a(r,"should be loosely deeply equivalent"),operator:"deepLooseEqual",actual:t,expected:e,extra:n})},x.prototype.notDeepLooseEqual=function(t,e,r,n){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(!i(t,e),{message:a(r,"should not be loosely deeply equivalent"),operator:"notDeepLooseEqual",actual:t,expected:e,extra:n})},x.prototype.throws=function(t,e,r,n){"string"==typeof e&&(r=e,e=void 0);var o=void 0;try{t()}catch(t){if(o={error:t},!(Object(t)!==t||v(t,"message")&&l(t,"message"))){var s=t.message;delete t.message,t.message=s}}var u=o;if(o){if("string"==typeof e&&o.error&&o.error.message===e)throw new TypeError('The "error/message" argument is ambiguous. The error message '+y(e)+" is identical to the message.");if("function"==typeof e)u=void 0!==e.prototype&&o.error instanceof e||!b(Error,e)&&!0===e.call({},o.error);else if(f(e))u=e.test(o.error),e=y(e);else if(e&&"object"==typeof e){var c=Object.keys(e);if(e instanceof Error)c.push("name","message");else if(0===c.length)throw new TypeError("`throws` validation object must not be empty");u=c.every((function(t){return!("string"!=typeof o.error[t]||!f(e[t])||!e[t].test(o.error[t]))||!(!(t in o.error)||!i(o.error[t],e[t],{strict:!0}))}))}}this._assert(!!u,{message:a(r,"should throw"),operator:"throws",actual:o&&o.error,expected:e,error:!u&&o&&o.error,extra:n})},x.prototype.doesNotThrow=function(t,e,r,n){"string"==typeof e&&(r=e,e=void 0);var o=void 0;try{t()}catch(t){o={error:t}}this._assert(!o,{message:a(r,"should not throw"),operator:"throws",actual:o&&o.error,expected:e,error:o&&o.error,extra:n})},x.prototype.match=function(t,e,r,n){if(!f(e))throw new TypeError('The "regexp" argument must be an instance of RegExp. Received type '+typeof e+" ("+y(e)+")");if("string"!=typeof t)throw new TypeError('The "string" argument must be of type string. Received type '+typeof t+" ("+y(t)+")");var o=w(e,t),i=a(r,"The input "+(o?"matched":"did not match")+" the regular expression "+y(e)+". Input: "+y(t));this._assert(o,{message:i,operator:"match",actual:t,expected:e,extra:n})},x.prototype.doesNotMatch=function(t,e,r,n){if(!f(e))throw new TypeError('The "regexp" argument must be an instance of RegExp. Received type '+typeof e+" ("+y(e)+")");if("string"!=typeof t)throw new TypeError('The "string" argument must be of type string. Received type '+typeof t+" ("+y(t)+")");var o=w(e,t),i=a(r,"The input "+(o?"was expected to not match":"did not match")+" the regular expression "+y(e)+". Input: "+y(t));this._assert(!o,{message:i,operator:"doesNotMatch",actual:t,expected:e,extra:n})},x.skip=function(t,e,r){var n=E.apply(null,arguments);return n.opts.skip=!0,x(n.name,n.opts,n.cb)}}).call(this,r(19).setImmediate,r(3),"/")},function(t,e,r){"use strict";var n=r(28),o=r(40),i=r(41),a=r(44),s=r(87),u=r(89),c=r(90),l=r(91),f=r(15),p=r(20),d=r(96),h=r(99),y=r(101),g=r(105),v=r(108),m=p("Date.prototype.getTime"),b=Object.getPrototypeOf,w=p("Object.prototype.toString"),_=f("%Set%",!0),A=p("Map.prototype.has",!0),S=p("Map.prototype.get",!0),E=p("Map.prototype.size",!0),x=p("Set.prototype.add",!0),P=p("Set.prototype.delete",!0),O=p("Set.prototype.has",!0),k=p("Set.prototype.size",!0);function j(t,e,r,n){for(var o,i=h(t);(o=i.next())&&!o.done;)if(M(e,o.value,r,n))return P(t,o.value),!0;return!1}function T(t){return void 0===t?null:"object"!=typeof t?"symbol"!=typeof t&&("string"!=typeof t&&"number"!=typeof t||+t==+t):void 0}function N(t,e,r,n,o,i){var a=T(r);if(null!=a)return a;var s=S(e,a),u=v({},o,{strict:!1});return!(void 0===s&&!A(e,a)||!M(n,s,u,i))&&(!A(t,a)&&M(n,s,u,i))}function R(t,e,r){var n=T(r);return null!=n?n:O(e,n)&&!O(t,n)}function I(t,e,r,n,o,i){for(var a,s,u=h(t);(a=u.next())&&!a.done;)if(M(r,s=a.value,o,i)&&M(n,S(e,s),o,i))return P(t,s),!0;return!1}function M(t,e,r,f){var p=r||{};if(p.strict?i(t,e):t===e)return!0;if(l(t)!==l(e))return!1;if(!t||!e||"object"!=typeof t&&"object"!=typeof e)return p.strict?i(t,e):t==e;var y,P=f.has(t),T=f.has(e);if(P&&T){if(f.get(t)===f.get(e))return!0}else y={};return P||f.set(t,y),T||f.set(e,y),function(t,e,r,i){var l,f;if(typeof t!=typeof e)return!1;if(null==t||null==e)return!1;if(w(t)!==w(e))return!1;if(o(t)!==o(e))return!1;var p=u(t),y=u(e);if(p!==y)return!1;var P=t instanceof Error,T=e instanceof Error;if(P!==T)return!1;if((P||T)&&(t.name!==e.name||t.message!==e.message))return!1;var B=a(t),D=a(e);if(B!==D)return!1;if((B||D)&&(t.source!==e.source||s(t)!==s(e)))return!1;var F=c(t),C=c(e);if(F!==C)return!1;if((F||C)&&m(t)!==m(e))return!1;if(r.strict&&b&&b(t)!==b(e))return!1;if(g(t)!==g(e))return!1;var q=U(t),L=U(e);if(q!==L)return!1;if(q||L){if(t.length!==e.length)return!1;for(l=0;l<t.length;l++)if(t[l]!==e[l])return!1;return!0}if(typeof t!=typeof e)return!1;var W=n(t),G=n(e);if(W.length!==G.length)return!1;for(W.sort(),G.sort(),l=W.length-1;l>=0;l--)if(W[l]!=G[l])return!1;for(l=W.length-1;l>=0;l--)if(!M(t[f=W[l]],e[f],r,i))return!1;var z=d(t),Y=d(e);if(z!==Y)return!1;if("Set"===z||"Set"===Y)return function(t,e,r,n){if(k(t)!==k(e))return!1;var o,i,a,s=h(t),u=h(e);for(;(o=s.next())&&!o.done;)if(o.value&&"object"==typeof o.value)a||(a=new _),x(a,o.value);else if(!O(e,o.value)){if(r.strict)return!1;if(!R(t,e,o.value))return!1;a||(a=new _),x(a,o.value)}if(a){for(;(i=u.next())&&!i.done;)if(i.value&&"object"==typeof i.value){if(!j(a,i.value,r.strict,n))return!1}else if(!r.strict&&!O(t,i.value)&&!j(a,i.value,r.strict,n))return!1;return 0===k(a)}return!0}(t,e,r,i);if("Map"===z)return function(t,e,r,n){if(E(t)!==E(e))return!1;var o,i,a,s,u,c,l=h(t),f=h(e);for(;(o=l.next())&&!o.done;)if(s=o.value[0],u=o.value[1],s&&"object"==typeof s)a||(a=new _),x(a,s);else if(void 0===(c=S(e,s))&&!A(e,s)||!M(u,c,r,n)){if(r.strict)return!1;if(!N(t,e,s,u,r,n))return!1;a||(a=new _),x(a,s)}if(a){for(;(i=f.next())&&!i.done;)if(s=i.value[0],c=i.value[1],s&&"object"==typeof s){if(!I(a,t,s,c,r,n))return!1}else if(!(r.strict||t.has(s)&&M(S(t,s),c,r,n)||I(a,t,s,c,v({},r,{strict:!1}),n)))return!1;return 0===k(a)}return!0}(t,e,r,i);return!0}(t,e,p,f)}function U(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&(!(t.length>0&&"number"!=typeof t[0])&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))))}t.exports=function(t,e,r){return M(t,e,r,y())}},function(t,e,r){"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=r(39),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(t){var e=t.constructor;return e&&e.prototype===t},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!p["$"+t]&&o.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{f(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();n=function(t){var e=null!==t&&"object"==typeof t,r="[object Function]"===i.call(t),n=a(t),s=e&&"[object String]"===i.call(t),p=[];if(!e&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var h=c&&r;if(s&&t.length>0&&!o.call(t,0))for(var y=0;y<t.length;++y)p.push(String(y));if(n&&t.length>0)for(var g=0;g<t.length;++g)p.push(String(g));else for(var v in t)h&&"prototype"===v||!o.call(t,v)||p.push(String(v));if(u)for(var m=function(t){if("undefined"==typeof window||!d)return f(t);try{return f(t)}catch(t){return!1}}(t),b=0;b<l.length;++b)m&&"constructor"===l[b]||!o.call(t,l[b])||p.push(l[b]);return p}}t.exports=n},function(t,e,r){"use strict";var n="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,i=Object.prototype.toString,a="[object Function]";t.exports=function(t){var e=this;if("function"!=typeof e||i.call(e)!==a)throw new TypeError(n+e);for(var r,s=o.call(arguments,1),u=function(){if(this instanceof r){var n=e.apply(this,s.concat(o.call(arguments)));return Object(n)===n?n:this}return e.apply(t,s.concat(o.call(arguments)))},c=Math.max(0,e.length-s.length),l=[],f=0;f<c;f++)l.push("$"+f);if(r=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),e.prototype){var p=function(){};p.prototype=e.prototype,r.prototype=new p,p.prototype=null}return r}},function(t,e,r){"use strict";var n=r(43),o=r(6);t.exports=function(){var t=n();return o(Object,{is:t},{is:function(){return Object.is!==t}}),t}},function(t,e,r){"use strict";var n=r(6),o=r(29),i=r(45),a=r(46),s=r(88),u=o(i);n(u,{getPolyfill:a,implementation:i,shim:s}),t.exports=u},function(t,e,r){"use strict";var n=r(6).supportsDescriptors,o=r(46),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,u=Object.getPrototypeOf,c=/a/;t.exports=function(){if(!n||!u)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=o(),e=u(c),r=i(e,"flags");return r&&r.get===t||a(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";var n=Date.prototype.getDay,o=Object.prototype.toString,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){return"object"==typeof t&&null!==t&&(i?function(t){try{return n.call(t),!0}catch(t){return!1}}(t):"[object Date]"===o.call(t))}},function(t,e,r){"use strict";var n=r(47),o=r(92),i=r(93),a=r(94),s=r(95);t.exports=function(t){return null==t||"object"!=typeof t&&"function"!=typeof t?null:n(t)?"String":o(t)?"Number":i(t)?"Boolean":a(t)?"Symbol":s(t)?"BigInt":void 0}},function(t,e,r){"use strict";var n=Number.prototype.toString,o=Object.prototype.toString,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){return"number"==typeof t||"object"==typeof t&&(i?function(t){try{return n.call(t),!0}catch(t){return!1}}(t):"[object Number]"===o.call(t))}},function(t,e,r){"use strict";var n=Boolean.prototype.toString,o=Object.prototype.toString,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){return"boolean"==typeof t||null!==t&&"object"==typeof t&&(i&&Symbol.toStringTag in t?function(t){try{return n.call(t),!0}catch(t){return!1}}(t):"[object Boolean]"===o.call(t))}},function(t,e,r){"use strict";var n=Object.prototype.toString;if(r(7)()){var o=Symbol.prototype.toString,i=/^Symbol\(.*\)$/;t.exports=function(t){if("symbol"==typeof t)return!0;if("[object Symbol]"!==n.call(t))return!1;try{return function(t){return"symbol"==typeof t.valueOf()&&i.test(o.call(t))}(t)}catch(t){return!1}}}else t.exports=function(t){return!1}},function(t,e,r){"use strict";if("function"==typeof BigInt){var n=BigInt.prototype.valueOf;t.exports=function(t){return null!=t&&"boolean"!=typeof t&&"string"!=typeof t&&"number"!=typeof t&&"symbol"!=typeof t&&"function"!=typeof t&&("bigint"==typeof t||function(t){try{return n.call(t),!0}catch(t){}return!1}(t))}}else t.exports=function(t){return!1}},function(t,e,r){"use strict";var n=r(48),o=r(49),i=r(97),a=r(98);t.exports=function(t){if(t&&"object"==typeof t){if(n(t))return"Map";if(o(t))return"Set";if(i(t))return"WeakMap";if(a(t))return"WeakSet"}return!1}},function(t,e,r){"use strict";var n,o="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,i="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;o||(n=function(t){return!1});var a=o?o.prototype.has:null,s=i?i.prototype.has:null;n||a||(n=function(t){return!1}),t.exports=n||function(t){if(!t||"object"!=typeof t)return!1;try{if(a.call(t,a),s)try{s.call(t,s)}catch(t){return!0}return t instanceof o}catch(t){}return!1}},function(t,e,r){"use strict";var n,o="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,i="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;o||(n=function(t){return!1});var a=o?o.prototype.has:null,s=i?i.prototype.has:null;n||s||(t.exports=function(t){return!1}),t.exports=n||function(t){if(!t||"object"!=typeof t)return!1;try{if(s.call(t,s),a)try{a.call(t,a)}catch(t){return!0}return t instanceof i}catch(t){}return!1}},function(t,e,r){"use strict";(function(e){var n=r(40);if(r(7)()||r(30)()){var o=Symbol.iterator;t.exports=function(t){return null!=t&&void 0!==t[o]?t[o]():n(t)?Array.prototype[o].call(t):void 0}}else{var i=r(100),a=r(47),s=r(15),u=s("%Map%",!0),c=s("%Set%",!0),l=r(20),f=l("Array.prototype.push"),p=l("String.prototype.charCodeAt"),d=l("String.prototype.slice"),h=function(t){var e=0;return{next:function(){var r,n=e>=t.length;return n||(r=t[e],e+=1),{done:n,value:r}}}},y=function(t){if(i(t)||n(t))return h(t);if(a(t)){var e=0;return{next:function(){var r=function(t,e){if(e+1>=t.length)return e+1;var r=p(t,e);if(r<55296||r>56319)return e+1;var n=p(t,e+1);return n<56320||n>57343?e+1:e+2}(t,e),n=d(t,e,r);return e=r,{done:r>t.length,value:n}}}}};if(u||c){var g=r(48),v=r(49),m=l("Map.prototype.forEach",!0),b=l("Set.prototype.forEach",!0);if(void 0===e||!e.versions||!e.versions.node)var w=l("Map.prototype.iterator",!0),_=l("Set.prototype.iterator",!0),A=function(t){var e=!1;return{next:function(){try{return{done:e,value:e?void 0:t.next()}}catch(t){return e=!0,{done:!0,value:void 0}}}}};var S=l("Map.prototype.@@iterator",!0)||l("Map.prototype._es6-shim iterator_",!0),E=l("Set.prototype.@@iterator",!0)||l("Set.prototype._es6-shim iterator_",!0);t.exports=function(t){return function(t){if(g(t)){if(w)return A(w(t));if(S)return S(t);if(m){var e=[];return m(t,(function(t,r){f(e,[r,t])})),h(e)}}if(v(t)){if(_)return A(_(t));if(E)return E(t);if(b){var r=[];return b(t,(function(t){f(r,t)})),h(r)}}}(t)||y(t)}}else t.exports=y}}).call(this,r(3))},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";var n=r(31),o=r(102),i=r(32),a=n("%TypeError%"),s=n("%WeakMap%",!0),u=n("%Map%",!0),c=o("Array.prototype.push"),l=o("WeakMap.prototype.get",!0),f=o("WeakMap.prototype.set",!0),p=o("WeakMap.prototype.has",!0),d=o("Map.prototype.get",!0),h=o("Map.prototype.set",!0),y=o("Map.prototype.has",!0);t.exports=function(){var t,e,r,n={assert:function(t){if(!n.has(t))throw new a("Side channel does not contain "+i(t))},get:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(t)return l(t,n)}else if(u){if(e)return d(e,n)}else if(r)return function(t,e){for(var r=0;r<t.length;r+=1)if(t[r].key===e)return t[r].value}(r,n)},has:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(t)return p(t,n)}else if(u){if(e)return y(e,n)}else if(r)return function(t,e){for(var r=0;r<t.length;r+=1)if(t[r].key===e)return!0;return!1}(r,n);return!1},set:function(n,o){s&&n&&("object"==typeof n||"function"==typeof n)?(t||(t=new s),f(t,n,o)):u?(e||(e=new u),h(e,n,o)):(r||(r=[]),function(t,e,r){for(var n=0;n<t.length;n+=1)if(t[n].key===e)return void(t[n].value=r);c(t,{key:e,value:r})}(r,n,o))}};return n}},function(t,e,r){"use strict";var n=r(31),o=r(103),i=o(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&i(t,".prototype.")?o(r):r}},function(t,e,r){"use strict";var n=r(4),o=r(31),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||n.call(a,i);t.exports=function(){return s(n,a,arguments)},t.exports.apply=function(){return s(n,i,arguments)}},function(t,e){},function(t,e,r){"use strict";(function(e){var n=r(50),o=r(51),i=r(20),a=i("Object.prototype.toString"),s=r(7)()&&"symbol"==typeof Symbol.toStringTag,u=o(),c=i("String.prototype.slice"),l={},f=r(52),p=Object.getPrototypeOf;s&&f&&p&&n(u,(function(t){if("function"==typeof e[t]){var r=new e[t];if(!(Symbol.toStringTag in r))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var n=p(r),o=f(n,Symbol.toStringTag);if(!o){var i=p(n);o=f(i,Symbol.toStringTag)}l[t]=o.get}}));var d=r(107);t.exports=function(t){return!!d(t)&&(s?function(t){var e=!1;return n(l,(function(r,n){if(!e)try{var o=r.call(t);o===n&&(e=o)}catch(t){}})),e}(t):c(a(t),8,-1))}}).call(this,r(5))},function(t,e){t.exports=function(t,e,n){if(t.filter)return t.filter(e,n);if(null==t)throw new TypeError;if("function"!=typeof e)throw new TypeError;for(var o=[],i=0;i<t.length;i++)if(r.call(t,i)){var a=t[i];e.call(n,a,i,t)&&o.push(a)}return o};var r=Object.prototype.hasOwnProperty},function(t,e,r){"use strict";(function(e){var n=r(50),o=r(51),i=r(20),a=i("Object.prototype.toString"),s=r(7)()&&"symbol"==typeof Symbol.toStringTag,u=o(),c=i("Array.prototype.indexOf",!0)||function(t,e){for(var r=0;r<t.length;r+=1)if(t[r]===e)return r;return-1},l=i("String.prototype.slice"),f={},p=r(52),d=Object.getPrototypeOf;s&&p&&d&&n(u,(function(t){var r=new e[t];if(!(Symbol.toStringTag in r))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var n=d(r),o=p(n,Symbol.toStringTag);if(!o){var i=d(n);o=p(i,Symbol.toStringTag)}f[t]=o.get}));t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!s){var e=l(a(t),8,-1);return c(u,e)>-1}return!!p&&function(t){var e=!1;return n(f,(function(r,n){if(!e)try{e=r.call(t)===n}catch(t){}})),e}(t)}}).call(this,r(5))},function(t,e,r){"use strict";var n=r(6),o=r(53),i=r(55),a=r(56),s=r(110),u=o.apply(a()),c=function(t,e){return u(Object,arguments)};n(c,{getPolyfill:a,implementation:i,shim:s}),t.exports=c},function(t,e,r){"use strict";var n=r(54),o=r(53),i=o(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&i(t,".prototype.")?o(r):r}},function(t,e,r){"use strict";var n=r(6),o=r(56);t.exports=function(){var t=o();return n(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t}},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var o=t[n];"."===o?t.splice(n,1):".."===o?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,o="/"===a.charAt(0))}return(o?"/":"")+(e=r(n(e.split("/"),(function(t){return!!t})),!o).join("/"))||"."},e.normalize=function(t){var i=e.isAbsolute(t),a="/"===o(t,-1);return(t=r(n(t.split("/"),(function(t){return!!t})),!i).join("/"))||i||(t="."),t&&a&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(n(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var o=n(t.split("/")),i=n(r.split("/")),a=Math.min(o.length,i.length),s=a,u=0;u<a;u++)if(o[u]!==i[u]){s=u;break}var c=[];for(u=s;u<o.length;u++)c.push("..");return(c=c.concat(i.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,n=-1,o=!0,i=t.length-1;i>=1;--i)if(47===(e=t.charCodeAt(i))){if(!o){n=i;break}}else o=!1;return-1===n?r?"/":".":r&&1===n?"/":t.slice(0,n)},e.basename=function(t,e){var r=function(t){"string"!=typeof t&&(t+="");var e,r=0,n=-1,o=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!o){r=e+1;break}}else-1===n&&(o=!1,n=e+1);return-1===n?"":t.slice(r,n)}(t);return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,r=0,n=-1,o=!0,i=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===n&&(o=!1,n=a+1),46===s?-1===e?e=a:1!==i&&(i=1):-1!==e&&(i=-1);else if(!o){r=a+1;break}}return-1===e||-1===n||0===i||1===i&&e===n-1&&e===r+1?"":t.slice(e,n)};var o="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r(3))},function(t,e,r){"use strict";var n=r(57),o=r(6),i=r(58),a=r(59),s=r(117),u=n(a());o(u,{getPolyfill:a,implementation:i,shim:s}),t.exports=u},function(t,e,r){"use strict";t.exports=r(114)},function(t,e,r){"use strict";var n=r(21)("%TypeError%");t.exports=function(t,e){if(null==t)throw new n(e||"Cannot call method on "+t);return t}},function(t,e,r){"use strict";var n=r(21),o=n("%String%"),i=n("%TypeError%");t.exports=function(t){if("symbol"==typeof t)throw new i("Cannot convert a Symbol value to a string");return o(t)}},function(t,e,r){"use strict";var n=r(21),o=r(57),i=o(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&i(t,".prototype.")?o(r):r}},function(t,e,r){"use strict";var n=r(6),o=r(59);t.exports=function(){var t=o();return n(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}},function(t,e,r){"use strict";var n=r(119),o=Object.prototype.toString,i=Object.prototype.hasOwnProperty,a=function(t,e,r){for(var n=0,o=t.length;n<o;n++)i.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))},s=function(t,e,r){for(var n=0,o=t.length;n<o;n++)null==r?e(t.charAt(n),n,t):e.call(r,t.charAt(n),n,t)},u=function(t,e,r){for(var n in t)i.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))};t.exports=function(t,e,r){if(!n(e))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),"[object Array]"===o.call(t)?a(t,e,i):"string"==typeof t?s(t,e,i):u(t,e,i)}},function(t,e,r){"use strict";var n,o,i=Function.prototype.toString,a="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof a&&"function"==typeof Object.defineProperty)try{n=Object.defineProperty({},"length",{get:function(){throw o}}),o={}}catch(t){a=null}else a=null;var s=/^\s*class\b/,u=function(t){try{var e=i.call(t);return s.test(e)}catch(t){return!1}},c=Object.prototype.toString,l="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=a?function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;try{a(t,null,n)}catch(t){if(t!==o)return!1}return!u(t)}:function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(l)return function(t){try{return!u(t)&&(i.call(t),!0)}catch(t){return!1}}(t);if(u(t))return!1;var e=c.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e}},function(t,e,r){"use strict";(function(e,n){var o=r(23),i=r(13).EventEmitter,a=r(9),s=r(17),u=r(121),c=r(32),l=r(4),f=r(16),p=l.call(Function.call,RegExp.prototype.test),d=/\:|\-|\?/,h=void 0!==e?e:n.nextTick;function y(t){return String(t).replace(/\s+/g," ")}function g(){if(!(this instanceof g))return new g;this.count=0,this.fail=0,this.pass=0,this.todo=0,this._stream=s(),this.tests=[],this._only=null,this._isRunning=!1}function v(t){if(!t._only)return t.tests.shift();do{var e=t.tests.shift();if(e&&t._only===e)return e}while(0!==t.tests.length)}function m(t){return p(d,t)}t.exports=g,a(g,i),g.prototype.createStream=function(t){t||(t={});var e,r=this,n=0;return t.objectMode?(e=s(),r.on("_push",(function t(r,o){o||(o={});var i=n++;r.once("prerun",(function(){var t={type:"test",name:r.name,id:i,skip:r._skip,todo:r._todo};f(o,"parent")&&(t.parent=o.parent),e.queue(t)})),r.on("test",(function(e){t(e,{parent:i})})),r.on("result",(function(t){t&&"object"==typeof t&&(t.test=i,t.type="assert"),e.queue(t)})),r.on("end",(function(){e.queue({type:"end",test:i})}))})),r.on("done",(function(){e.queue(null)}))):((e=u()).queue("TAP version 13\n"),r._stream.pipe(e)),this._isRunning||(this._isRunning=!0,h((function t(){for(var e;e=v(r);)if(e.run(),!e.ended)return e.once("end",(function(){h(t)}));r.emit("done")}))),e},g.prototype.push=function(t){var e=this;e.tests.push(t),e._watch(t),e.emit("_push",t)},g.prototype.only=function(t){this._only=t},g.prototype._watch=function(t){var e=this,r=function(t){e._stream.queue(t)};t.once("prerun",(function(){var e="";t._skip?e="SKIP ":t._todo&&(e="TODO "),r("# "+e+y(t.name)+"\n")})),t.on("result",(function(t){"string"!=typeof t?(r(function(t,e){var r="";r+=(t.ok?"ok ":"not ok ")+e,r+=t.name?" "+y(t.name):"",t.skip?r+=" # SKIP"+("string"==typeof t.skip?" "+y(t.skip):""):t.todo&&(r+=" # TODO"+("string"==typeof t.todo?" "+y(t.todo):""));if(r+="\n",t.ok)return r;var n="  ",i=n+"  ";if(r+=n+"---\n",r+=i+"operator: "+t.operator+"\n",f(t,"expected")||f(t,"actual")){var a=c(t.expected,{depth:t.objectPrintDepth}),s=c(t.actual,{depth:t.objectPrintDepth});Math.max(a.length,s.length)>65||m(a)||m(s)?(r+=i+"expected: |-\n"+i+"  "+a+"\n",r+=i+"actual: |-\n"+i+"  "+s+"\n"):(r+=i+"expected: "+a+"\n",r+=i+"actual:   "+s+"\n")}t.at&&(r+=i+"at: "+t.at+"\n");var u=!t.actual||"object"!=typeof t.actual&&"function"!=typeof t.actual?void 0:t.actual.stack,l=t.error&&t.error.stack,p=o(u,l);if(p){var d=String(p).split("\n");r+=i+"stack: |-\n";for(var h=0;h<d.length;h++)r+=i+"  "+d[h]+"\n"}return r+=n+"...\n"}(t,e.count+1)),e.count++,t.ok||t.todo?e.pass++:(e.fail++,e.emit("fail"))):r("# "+t+"\n")})),t.on("test",(function(t){e._watch(t)}))},g.prototype.close=function(){var t=this;t.closed&&t._stream.emit("error",new Error("ALREADY CLOSED")),t.closed=!0;var e=function(e){t._stream.queue(e)};e("\n1.."+t.count+"\n"),e("# tests "+t.count+"\n"),e("# pass  "+(t.pass+t.todo)+"\n"),t.todo&&e("# todo  "+t.todo+"\n"),t.fail?e("# fail  "+t.fail+"\n"):e("\n# ok\n"),t._stream.queue(null)}}).call(this,r(19).setImmediate,r(3))},function(t,e,r){(function(e,n){var o=r(17),i=void 0!==e?e:n.nextTick;t.exports=function(t,e){var r=o(t,e);r.pause();var n=r.resume,a=r.pause,s=!1;return r.pause=function(){return s=!0,a.apply(this,arguments)},r.resume=function(){return s=!1,n.apply(this,arguments)},i((function(){s||r.resume()})),r}}).call(this,r(19).setImmediate,r(3))}])}));
//# sourceMappingURL=xdsmjs-test.js.map